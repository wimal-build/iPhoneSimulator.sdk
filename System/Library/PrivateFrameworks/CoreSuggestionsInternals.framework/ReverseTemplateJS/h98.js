// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,g,o,i,s,p,x,d,c,m,T,h,u,C,l,v,y,R,S,E,A;if(!n.emailTitelConfirmation.test(e.subject))return CONTINUE;s=a.getSpan().nextRegExp(n.reservationId).tagContents().innerCapture(n.reservationId,1),r=a.getSpan().innerCapture(n.guestName,1),v=a.getSpan().nextRegExp(n.reservationId).nextAnyTag("td").nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/(.+)/,1),C=a.getSpan().nextRegExp(n.reservationId).nextTag("table3").nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.+)\s+?</),1),u=a.getSpan().nextRegExp(n.reservationId).nextTag("table3").nextAnyTag("td").nextAnyTag("td").tagContents().innerLink(),d=a.getSpan().nextRegExp(n.checkInDate).nextTag("td5").tagContents(),x=d.nextTag("td5").tagContents(),c=a.getDetachedSpan(""+d+" "+x).innerDate(),T=a.getSpan().nextRegExp(n.checkOutDate).nextTag("td5").tagContents(),m=T.nextTag("td5").tagContents(),h=a.getDetachedSpan(""+T+" "+m).innerDate(),S=a.getSpan().nextRegExp(n.host).nextRegExp(n.host).nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/(.+)/,1).trim(),l=A=a.getSpan().nextRegExp(n.host).nextRegExp(n.host).nextAnyTag("td").nextAnyTag("td").tagContents().nextPhoneNumber();var f=a.getSpan().nextRegExp(n.price).nextAnyTag("td").tagContents();if(o=f.innerCapture(/([\d,.]+)/,1),i=f.innerCapture(/([^\d,.]+)/,1).trim(),n.emailTitelConfirmation.test(e.subject)){if(!ASSERT(r,s,c,h,v))return CONTINUE;p="Confirmed"}return ASSERT(c,h,v)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:g},provider:valid(OR(S,E,A))?{"@type":"http://schema.org/Person",name:S,email:E,telephone:A}:null,totalPrice:o,priceCurrency:i,checkinTime:c,checkoutTime:h,modifyReservationUrl:y,cancelReservationUrl:R,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:C,url:u,telephone:l,address:v}}]:void 0}}).call();