// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("opentable.co.uk-restaurant-invitation-en",function(e){return/^Restaurant invitation from/.test(e.subject)},function(e){if(/^Restaurant invitation from/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_GB");var n=loadHelper("opentable-restaurant-invitation-check.js");if(n(e))return STOP;var a,r,o,s,i,u,p,l,c,m,v;if(o=t.getSpan().nextText("Date:").nextTag("td3").innerDate(),v=t.getSpan().nextText("Restaurant:").nextTag("td3").tagContents().innerCapture(/($<name>.*)\n($<address>[^]+?)\s+($<phoneNumber>[\d +]+)\s+See menus, map & more/),v&&(r=v.$name,l=v.$address,u=v.$phoneNumber),a=t.getSpan().nextText("No. of diners:").nextTag("td3").tagContents(),s=t.getSpan().innerCapture(/\n(.*?) has sent you an invitation!/,1),ASSERT(a,r,o,s))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:a,reservationId:p,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:r,url:i,telephone:u,address:l},startTime:o,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:s},cancelReservationUrl:c,modifyReservationUrl:m}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/674/720/724","SG2cd1f316"),new ReverseTemplate("opentable.com-restaurant-invitation-en",function(e){return/^Restaurant Invitation (?:from|to)/.test(e.subject)},function(e){if(/^Restaurant Invitation (?:from|to)/.test(e.subject)){if(int(e.epoch)<1388534400)return STOP;var t=loadHelper("opentable-restaurant-invitation-check.js");if(t(e))return STOP;var n=Scanner.fromMessage(e);n.setLocale("en_US");var a,r,o,s,i,u,p,l,c,m,v,d,h;if(a=n.getSpan().innerCapture(/(.*) has invited you to dine!/,1),o=a.nextTag("td2").nextTag("td2").tagContents(),u=o.innerCapture(/^($<name>.*?) <($<url>.*)>/),s=u?u.$name:null,p=u?u.$url:null,c=getFuzzyDate(o),i=o.innerCapture(/\bfor (\d+) people/,1),o=o.nextTag("td2").nextTag("td2").tagContents().innerCapture(/^($<address>[^]+?)\n($<phone>[-+\d() ]+)\n\n/),v=o?o.$address:null,m=o?o.$phone:null,ASSERT(i,s,c,a))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:i,reservationId:r,reservationStatus:"http://schema.org/Reservation"+(l||"Confirmed"),reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:s,url:p,telephone:m,address:v},startTime:c,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"http://www.opentable.com/"},underName:{"@type":"http://schema.org/Person",name:a},cancelReservationUrl:h,modifyReservationUrl:d}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/674/720/732","SG362943e6"),new ReverseTemplate("opentable.com-restaurant-invitation-es",function(e){return/^Invitaci\xf3n al restaurante/.test(e.subject)},function(e){if(/^Invitaci\xf3n al restaurante/.test(e.subject)){var t={};t.hour="Hora",t.restaurant="estaurante",t.phone="N\xfamero de tel\xe9fono:",t.person="Grupo de",t.invitation="le ha enviado una invitaci\xf3n";var n="es_MX",a=loadHelper("opentable.com-restauration-invitation-skeleton.js"),r="www.opentable.com.mx";return a(e,n,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/674/720/733","SG3cb0c4ba"),new ReverseTemplate("opentable.de-restaurant-invitation-de",function(e){return/^Restauranteinladung/.test(e.subject)},function(e){if(/^Restauranteinladung/.test(e.subject)){var t={};t.hour="Uhrzeit",t.restaurant="Restaurant",t.phone="Telefon",t.person="Personen",t.invitation="hat Ihnen eine Einladung gesendet";var n="de_DE",a=loadHelper("opentable.com-restauration-invitation-skeleton.js"),r="www.opentable.de";return a(e,n,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/674/720/738","SG90692c34"),new ReverseTemplate("opentable.jp-restaurant-invitation-jp",function(e){return/\u69d8\u304b\u3089\u306e/.test(e.subject)},function(e){if(/\u69d8\u304b\u3089\u306e/.test(e.subject)){var t={};t.hour="\u65e5\u6642",t.restaurant="\u30ec\u30b9\u30c8\u30e9\u30f3",t.phone="\u96fb\u8a71\u756a\u53f7",t.person="\u540d\u69d8",t.invitation="\u69d8\u3088\u308a\u3001\u304a\u98df\u4e8b\u4f1a\u306e\u3054\u6848\u5185\u3067\u3059";var n="ja_JP",a=loadHelper("opentable.com-restauration-invitation-skeleton.js"),r="www.opentable.jp";return a(e,n,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/674/720/742","SGfc1606fc")]);