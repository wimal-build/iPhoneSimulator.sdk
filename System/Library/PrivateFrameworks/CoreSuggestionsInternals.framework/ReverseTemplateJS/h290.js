// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(t,e,_){if(!t||!e||!_)return CONTINUE;var n=Scanner.fromMessage(t);n.setLocale(e);var r,a,p,g,o,i,x,c,m,S,s,h,d,u,T,E,l;return p=n.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,_.total),1),a=p.innerCapture(regExpFormatted(/([\d\.,]+)/),1),o=n.getSpan().withInterval(p.getStart(),a.getStart()),S=n.getSpan().nextText(_.print).nextLink(),s=n.getSpan().innerCapture(regExpFormatted(/\1 ([\w\/-]+)\./,_.number),1),g=n.getSpan().nextText("_____________________________________________________________________________________________").nextText("\n"),""+n.getSpan().withInterval(g.getEnd(),g.nextText("\n").getStart()).trim()==""&&(g=g.nextText("\n")),x=n.getSpan().withInterval(g.getEnd(),g.nextText("\n").getStart()).trim(),i=getFuzzyDate(g.withEnd(g.nextText(_.total).getStart())),h=n.getSpan().withInterval(x.nextText("\n").getEnd(),x.nextText("\n").nextText("\n").getStart()).trim(),r=n.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,_.orderFor),1),c=n.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,_.seat),1),ASSERT(i,x)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:r,totalPrice:a,priceCurrency:o,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:c,seatRow:l,seatSection:m},ticketToken:S,ticketNumber:s},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:x,url:d,startDate:i,endDate:E,location:{"@type":"http://schema.org/Place",name:u,telephone:T,address:h}}}]:CONTINUE}}).call();