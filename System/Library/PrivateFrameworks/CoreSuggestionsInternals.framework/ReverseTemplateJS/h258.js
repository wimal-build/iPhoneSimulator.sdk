// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){if(!e||!t||!r)return CONTINUE;var a=Scanner.fromMessage(e);a.setLocale(t);var n,p,o,i,c,g,s,m,u,d,x,S,h,l,v,E,C;return n=a.getSpan().innerCapture(regExpFormatted(/\1 (.+),/,r.hello),1),o=a.getSpan().nextText(r.total),x=a.getSpan().withInterval(o.previousText("\n").getEnd(),o.nextText("\n").getStart()).innerCapture(regExpFormatted(/($<priceCurrency>.) ($<totalPrice>[\d,\.]+)/)),x&&(i=x.$priceCurrency,p=x.$totalPrice),d=a.getSpan().innerCapture(regExpFormatted(/\1: (\d+)/),1),o=a.getSpan().nextText(r.date),g=a.getSpan().withInterval(o.previousText("\n").previousText("\n").getEnd(),o.previousText("\n").getStart()).trim(),c=o.nextDate(),l=a.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,r.place),1).trim(),s=a.getSpan().innerCapture(regExpFormatted(/\1: ([\w\s]+)/,r.seatNumber),1).trim(),C=a.getSpan().innerCapture(regExpFormatted(/\1: ([\w\s]+),/,r.row),1).trim(),m=a.getSpan().innerCapture(regExpFormatted(/\1: ([\w\s]+),/,r.block),1).trim(),ASSERT(c,g)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:n,totalPrice:p,priceCurrency:i,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:s,seatRow:C,seatSection:m},ticketToken:u,ticketNumber:d},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:g,url:h,startDate:c,endDate:E,location:{"@type":"http://schema.org/Place",name:l,telephone:v,address:S}}}]:void 0}}).call();