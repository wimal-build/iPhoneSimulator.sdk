// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("opentable.co.uk-cancellation-en",function(e){return/booking cancellation$/.test(e.subject)},function(e){if(/booking cancellation$/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_GB");var n,a,r,o,s,i,m,p,c,g,d;if(d=t.getSpan().nextTag("table3").nextTag("table3").innerTag("td3").nextTag("td3").tagContents().innerCapture(regExpFormatted(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/)),d&&(o=d.$underName,r=d.$startTime,n=d.$partySize,m=d.$reservationId),a=t.getSpan().nextText("Restaurant:").nextTag("td3").tagContents().trim(),ASSERT(n,a,r,o))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:n,reservationId:m,reservationStatus:"http://schema.org/ReservationCancelled",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:a,url:s,telephone:i,address:p},startTime:r,bookingAgent:{"@type":"http://schema.org/Organization",name:"Opentable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:o},cancelReservationUrl:c,modifyReservationUrl:g}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/627/673/674","SGe91effe6"),new ReverseTemplate("opentable.co.uk-confirmation-en",function(e){return/^Booking confirmation for/.test(e.subject)||/^Your .*? booking amendment$/.test(e.subject)},function(e){if(/^Booking confirmation/.test(e.subject)||/^Your .*? booking amendment$/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_GB");var n,a,r,o,s,i,m,p,c,g,d,u;if(d=t.getSpan().nextText("Diner's name:").nextAnyTag("td").tagContents().innerCapture(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/),d&&(o=d.$underName,r=d.$startTime,n=d.$partySize,m=d.$reservationId),d=t.getSpan().nextText("Restaurant:").nextAnyTag("td").tagContents().innerCapture(/($<name>.*)\n($<address>.*)\s+($<phoneNumber>.*)\s+See menus, map & more/),d&&(a=d.$name,p=d.$address,i=d.$phoneNumber.trim()),u=t.getDetachedSpan(e.html),c=u.nextText("cancel this booking").previousLink(),g=u.nextText("Change this booking").previousLink(),ASSERT(n,r,o))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:n,reservationId:m,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:a,url:s,telephone:i,address:p},startTime:r,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:o},cancelReservationUrl:c,modifyReservationUrl:g}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/627/673/675","SG23b3d435")]);