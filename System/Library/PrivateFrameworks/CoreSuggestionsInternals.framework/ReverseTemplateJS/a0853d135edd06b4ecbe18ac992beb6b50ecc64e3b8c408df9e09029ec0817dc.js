// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("usairways.com-departure-reminder-en",function(e){return/^Departure Reminder for/.test(e.subject)},function(e){if(/^Departure Reminder for/.test(e.subject)){var r={},t="en_US",a=loadHelper("usairways.com-departure-reminder.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/127/336/339","SGe43e5c44"),new ReverseTemplate("usairways.com-flight-delay-en",function(e){return/^Flight [Dd]elay impacting/.test(e.subject)},function(e){if(/^Flight [Dd]elay impacting/.test(e.subject)){var r=Scanner.fromMessage(e);r.setLocale("en_US");var t,a,i,n,o,p,d,u,l,s,m,c=[];if(r.getSpan().nextText("BeNotified").nextText("Your flight is delayed").exists()){var g={},v="en_US",h=loadHelper("usairways.com-departure-reminder.js");return h(e,v,g)}r.getSpan().nextText("Your updated flight information:").exists()&&(i=r.getSpan().innerCapture(concatRegExp(/Your updated flight information:\s/,/Departing on: ($<currentDate>.*?)\s/,/($<airlineName>.*?) flight # ($<flightNumber>\d+)\s/,/Depart: ($<departureAirport>.*?) \(($<departureCode>[A-Z]{3})\) at ($<departureTime>\d{1,2}:\d{2} [AP]M)\s/,/Arrive: ($<arrivalAirport>.*?) \(($<arrivalCode>[A-Z]{3})\) at ($<arrivalTime>\d{1,2}:\d{2} [AP]M)/)),i&&(o=i.$airlineName,n=i.$flightNumber,d=i.$departureAirport,u=i.$departureCode,p=r.getDetachedSpan(""+i.$currentDate+" "+i.$departureTime).innerDate(),s=i.$arrivalAirport,m=i.$arrivalCode,l=r.getDetachedSpan(""+i.$currentDate+" "+i.$arrivalTime).innerDate(),valid(o,n,d,u,p,s,m,l)&&(r.getDateDD(l).iso8601<r.getDateDD(p).iso8601&&(l=modifyDate(l,1)),c.push({airlineName:o,flightNumber:n,departureAirport:d,departureCode:u,departureTime:p,arrivalAirport:s,arrivalCode:m,arrivalTime:l}))));for(var f=[],D=0;c.length>D;D++){var $=c[D];schema={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:$.airlineName,airlineCode:$.airlineCode,flightNumber:$.flightNumber,departureAirportFuzzy:$.departureAirport,departureAirportCode:$.departureCode,departureTime:$.departureTime,arrivalAirportFuzzy:$.arrivalAirport,arrivalAirportCode:$.arrivalCode,arrivalTime:$.arrivalTime},checkinUrl:a,reservationId:t,reservationStatus:"http://schema.org/ReservationConfirmed"},f.push(schema)}if(f.length)return f}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/127/336/340","SGf27c4f3b")]);