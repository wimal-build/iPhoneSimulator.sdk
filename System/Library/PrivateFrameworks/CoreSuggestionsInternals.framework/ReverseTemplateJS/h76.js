// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){function a(e){return(""+e.trim()).replace(/\n/g," ").replace(/\s+/g," ")}e.plain=e.plain.replace(RegExp(String.fromCharCode("0x200b"),"g"),"");var n=Scanner.fromMessage(e);n.setLocale(t);var i,g=n.getSpan().nextText(r.reservationCodePrefix).parentTag("td2").tagContents().innerCapture(regExpFormatted(/\1\n(\w+)/,r.reservationCodePrefix),1).trim(),o=n.getSpan().nextText(r.passengerNamePrefix).nextTag("td5").tagContents().trim(),p=(n.getSpan().nextText(r.ticketNumberPrefix).nextTag("td5").tagContents().innerCapture(/(.*)</,1).trim(),n.getSpan().nextText(r.flightColumnHeader).nextTag("tr1")),d=p.firstTag("td1").tagContents().innerCapture(regExpFormatted(/($<airlineCode>\w{2}) ($<flightNumber>\d+)\n\1\n($<airlineName>.+)/,r.operatedByPrefix)),s=d.$airlineCode.trim(),m=d.$flightNumber.trim(),x=(d.$airlineName.trim(),p.nextTag("td1").nextTag("td1").tagContents().allDates()),l=x[0];i=x.length>1?x[1]:x[0];var c=p.nextTag("td1").nextTag("td1").nextTag("td1").tagContents(),h=c.nextTag("td1").tagContents(),T=h.nextTag("td1").tagContents(),u=T.nextTag("td1").tagContents(),C=n.getDetachedSpan(""+l+" "+T).innerDate(),f=n.getDetachedSpan(""+i+" "+u).innerDate();return ASSERT(s,m,C,f,c,h)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineCode:"DL",flightNumber:m,departureAirportFuzzy:a(c),departureTime:C,arrivalAirportFuzzy:a(h),arrivalTime:f},underName:{"@type":"http://schema.org/Person",name:o},reservationId:g,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}}]:void 0}}).call();