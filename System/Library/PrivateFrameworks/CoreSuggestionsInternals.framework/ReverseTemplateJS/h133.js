// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,i,o,s,u,p,c,m,l,C,g,d,h,S,f,T;if(!n.emailTitelConfirmation.test(e.subject)&&!n.emailTitelCancelConfirmation.test(e.subject))return CONTINUE;if(/\u4e09\u4e95\u30ac\u30fc\u30c7\u30f3\u30db\u30c6\u30eb/.test(e.subject))return STOP;u=r.getSpan().innerCapture(n.reservationId,1),a=r.getSpan().innerCapture(n.guestName,1),c=r.getSpan().innerCapture(n.checkinDate,1),c=getFuzzyDate(c),C=r.getSpan().innerCapture(n.reservationDuration,1),m=r.getSpan().innerCapture(n.checkoutTime,1),valid(m)&&(l=combineDateAndTime(c,m),l=modifyDate(l,int(""+C)));var v=r.getSpan().innerCapture(n.price,1);if(o=v.innerCapture(/([\d,.]+)/,1),s=v.innerCapture(/([^\d,.]+)\uff08/,1),T=f=""+r.getSpan().innerCapture(n.modifyUrl,1),d=r.getSpan().innerCapture(n.hotelName,1),h=r.getSpan().innerCapture(n.hotelPhone,1),g=""+r.getSpan().innerCapture(n.hotelUrl,1),S=""+r.getSpan().innerCapture(n.hotelAddress,1),n.emailTitelConfirmation.test(e.subject)){if(!ASSERT(a,u,c,S))return CONTINUE;p="Confirmed"}if(n.emailTitelCancelConfirmation.test(e.subject)){if(!ASSERT(a,u,c,S))return CONTINUE;p="Cancelled"}return ASSERT(!0)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:i},totalPrice:o,priceCurrency:s,checkinTime:c,checkoutTime:l,modifyReservationUrl:f,cancelReservationUrl:T,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),reservationId:u,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:d,url:g,telephone:h,address:S}}]:void 0}}).call();