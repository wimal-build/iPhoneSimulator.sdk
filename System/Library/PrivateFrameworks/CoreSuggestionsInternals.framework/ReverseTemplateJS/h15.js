// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,n,a){var t=Scanner.fromMessage(e);t.setLocale(n);var r,p,i,o,c,s,g,l,u,m,C,d,h,S,f,v,y,L,P,R;i=t.getSpan().innerCapture(a.reservationId,1),r=(""+t.getSpan().innerCapture(a.guestName,1)).trim(),R=t.getSpan().innerDate(),L=t.getSpan().innerCapture(a.pickUpLoc,1),S=t.getSpan().innerCapture(a.dropOffLoc,1);var k=t.getSpan().allPhoneNumbers();P=k[1],f=k[2],m=t.getSpan().innerCapture(a.car,1);var U=t.getSpan().nextRegExp(a.totalPrice).innerCapture(a.totalPrice,1);return l=U.innerCapture(/([\d.,]+)/,1),u=U.innerCapture(/([^\d.,]+)/,1).trim(),a.cancel.test(e.subject)&&(i=t.getSpan().innerCapture(a.cancellationId,1),r=t.getSpan().innerCapture(a.guestNameCancel,1),R=t.getSpan().innerCapture(a.pickUpDateCancel,1).innerDate(),v=t.getSpan().innerCapture(a.dropOffDateCancel,1).innerDate(),L=t.getSpan().innerCapture(a.pickUpLocCancel,1),S=t.getSpan().innerCapture(a.dropOffLocCancel,1),m=t.getSpan().innerCapture(a.car,1),o="Cancelled"),ASSERT(i,r,m,L,R)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:l,priceCurrency:u,reservationId:i,reservationStatus:"http://schema.org/Reservation"+(o||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:r,email:p},provider:{"@type":"http://schema.org/Organization",name:"Budget"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:m},license:C,color:d},pickupTime:R,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:P,address:L},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:h,telephone:f,address:S}}]:void 0}}).call();