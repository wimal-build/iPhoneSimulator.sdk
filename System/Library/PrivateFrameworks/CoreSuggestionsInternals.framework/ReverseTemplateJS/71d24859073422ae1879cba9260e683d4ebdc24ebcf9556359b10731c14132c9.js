// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("dollar.com-reservation-html-en",function(e){return/^Dollar Rent A Car (?:(?:Forwarded )?Reservation|Cancellation) (?:Confirmation|Modification)$/.test(e.subject)},function(e){if(/^Dollar Rent A Car (?:(?:Forwarded )?Reservation|Cancellation) (?:Confirmation|Modification)/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_US");var n,a,r,o,i,l,g,s,c,d,p,T,x,m,h,y,C,A,f,u;n=t.getSpan().innerCapture(/\bName: (.*)\s/,1),c=t.getSpan().nextText("Vehicle Type:").nextAnyTag("td").nextAnyTag("td").tagContents();var v=t.getSpan().nextText("VEHICLE PICKUP INFO").nextAnyTag("table");u=v.innerText("Date/Time:").nextAnyTag("td").nextAnyTag("td").innerDate(),A=v.innerText("Location:").nextAnyTag("td").nextAnyTag("td").tagContents(),f=v.innerText("Phone:").nextAnyTag("td").nextAnyTag("td").tagContents();var R=t.getSpan().nextText("VEHICLE RETURN INFO").nextAnyTag("table");if(y=R.innerText("Date/Time:").nextAnyTag("td").nextAnyTag("td").innerDate(),m=R.innerText("Location:").nextAnyTag("td").nextAnyTag("td").tagContents(),h=R.innerText("Phone:").nextAnyTag("td").nextAnyTag("td").tagContents(),T=t.getSpan().nextTag("table4").nextTag("table4").allInnerLinks(),5===T.length&&(i=T[1],l=T[1]),s=t.getSpan().nextText("Currency:").parentTag("table8").allInnerTagsFiltered("td8"),s=s.length>=2?s[1]:null,g=t.getSpan().innerCapture(/\bEstimated Grand Total:.*?([\d,.]+)/,1),a=t.getSpan().innerCapture(/\bConfirmation # : (\w+)/,1),/^Dollar Rent A Car Cancellation Confirmation/.test(e.subject)&&(r="Cancelled"),ASSERT(n,c,A,u))return[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:s,reservationStatus:"http://schema.org/Reservation"+(r||"Confirmed"),reservationId:a,checkinUrl:o,modifyReservationUrl:i,cancelReservationUrl:l,underName:{"@type":"http://schema.org/Person",name:n},provider:{"@type":"http://schema.org/Organization",name:"Dollar"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:c},license:d,color:p},pickupTime:u,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:f,address:A},dropoffTime:y,dropoffLocation:{"@type":"http://schema.org/Place",name:x,telephone:h,address:m}}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/8/44/45","SGd88466fd")]);