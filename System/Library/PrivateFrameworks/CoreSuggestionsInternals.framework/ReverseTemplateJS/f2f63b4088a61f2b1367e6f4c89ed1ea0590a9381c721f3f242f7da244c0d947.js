// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("stubhub.com-en",function(){return!0},function(e){if(startsWith(e.subject,"Please complete your sale")||startsWith(e.subject,"Your StubHub sale is cancelled")||startsWith(e.subject,"Charge Applied")||startsWith(e.subject,"Tickets sold"))return CONTINUE;if(startsWith(e.subject,"Create your new StubHub password"))return CONTINUE;if(startsWith(e.subject,"Refund Applied"))return CONTINUE;var t=Scanner.fromMessage(e);t.setLocale("en_US");var s,a,r,n,c,i,o,u,p,h,d,l,b,m,g,v,S;a=t.getSpan().innerCapture(/\bHi (\w+),\s/,1),c=t.getSpan().innerCapture(/\bOrder #: ([\d]+)/,1),i=t.getSpan().innerCapture(/\bbelow to print your tickets\.\s+<(.*)>/,1),i.exists()||(i=t.getDetachedSpan("http://www.StubHub.com")),b=t.getSpan().nextText("Event time subject to change - Check local listings").previousDate();var C=t.getSpan().innerCapture(/\b($<eventName>.*) at ($<address>.*)\s(?:.*)\s\(Event time subject to change/);C&&(d=C.$eventName,S=C.$address);var E=RegExp("\\(Event time subject to change - Check local listings\\)\\s+\\b($<seatSection>.*) \\| ($<numSeats>.*)\\s+(?:(?:Row )?($<seatRow>.*) \\| (?:Seats )?($<seat>.*)\\s)?"),T=t.getSpan().innerCapture(E);return T&&(h=T.$seatSection,o=T.$numSeats,p=T.$seatRow,u=T.$seat),r=t.getSpan().nextText("Order total:").nextTag("td2").tagContents().innerCapture(/([\d,.]+)/,1),s="http://schema.org/EventConfirmed",startsWith(e.subject,"Event cancelled")||startsWith(e.subject,"Account Credit Applied")?s="http://schema.org/EventCancelled":(startsWith(e.subject,"Order Placed")||startsWith(e.subject,"Your tickets have shipped"))&&(s="http://schema.org/EventTentative"),ASSERT(b,d)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:a,totalPrice:r,priceCurrency:n,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:c,ticketToken:i,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:u,seatRow:p,seatSection:h}},reservationFor:{"@type":"http://schema.org/Event",eventStatus:s,name:d,url:l,startDate:b,endDate:m,location:{"@type":"http://schema.org/Place",name:v,telephone:g,address:S}}}]:void 0},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/726/754/755","SG163de046")]);