// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n,o,p,i,s,c,d,g,x,m,h,l,f,u,P,v,S,y,C;n=a.getSpan().innerCapture(regExpFormatted(/\b\1 (.*)\s/,r.namePrefix),1),o=a.getSpan().innerCapture(regExpFormatted(/\b\1 (\w+)\s/,r.reservationIdPrefix),1),i=a.getSpan().nextText(r.modifyReservationUrlPrefix).nextLink(),s=i,C=a.getSpan().nextText(r.pickUpDatePrefix).nextDate(),P=a.getSpan().nextText(r.dropOffDatePrefix).nextDate(),S=P.nextAddress(),y=P.nextPhoneNumber();var $=regExpFormatted(/\1\s+($<name>.*)\s+($<address>[^]+?)\s+\2 ($<telephone>.*)\s/,r.pickUpHeader,r.pickUpPhonePrefix);h=a.getSpan().innerCapture($),h&&(v=h.$name,(not(S)||h.$address.getLength()>S.getLength())&&(S=h.$address),not(y)&&(y=h.$telephone)),g=a.getSpan().nextText(r.carAndRatePrefix).withEnd(a.getSpan().nextRegExp(regExpFormatted(/\1/,r.totalChargesPrefix)).getStart()).innerCapture(regExpFormatted(/\1\s+.*\s+(.*)\s+/,r.carAndRatePrefix),1);var E=a.getSpan().innerCapture(regExpFormatted(/\1\s+($<price>[\d,.]+)\s($<currency>[A-Z]{3})/,r.totalChargesPrefix));return c=E?E.$price:null,d=E?E.$currency:null,ASSERT(S,C)?(l||(l=v,f||(f=S),u||(u=y)),[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:c,priceCurrency:d,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",checkinUrl:p,modifyReservationUrl:i,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:n},provider:{"@type":"http://schema.org/Organization",name:"Enterprise"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:g},license:x,color:m},pickupTime:C,pickupLocation:{"@type":"http://schema.org/Place",name:v,telephone:y,address:S},dropoffTime:P,dropoffLocation:{"@type":"http://schema.org/Place",name:l,telephone:u,address:f}}]):void 0}}).call();