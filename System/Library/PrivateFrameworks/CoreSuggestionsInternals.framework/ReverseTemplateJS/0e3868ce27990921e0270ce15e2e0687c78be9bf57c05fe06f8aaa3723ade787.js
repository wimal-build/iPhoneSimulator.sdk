// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("usairways.com-checkin-en",function(){return!1},function(e){return/^US Airways(?: - Web)? [Cc]heck-in reminder$/.test(e.subject)||/^Check in for your upcoming trip$/.test(e.subject)?STOP:void 0},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/297/299","SG8dcab657"),new ReverseTemplate("usairways.com-travel-confirmation-en",function(e){return/^US Airways Travel Confirmation$/.test(e.subject)},function(e){if(/^US Airways Travel Confirmation$/.test(e.subject)){var r=Scanner.fromMessage(e);r.setLocale("en_US");var t,a,n,i,o,s,p,m,u,l,c,g,h,d,f,T=[],v={};t=r.getSpan().innerCapture(/Travel Confirmation: (\w{6})\s/,1),n=r.getSpan().nextText("Passenger Information").parentTag("table4").allInnerTags("tr4").map(function(e){return e.allInnerTags("td4").map(function(e){return e.tagContents()})}).filter(function(e){return e.length>=4});for(var b=1;n.length>b;b++)v[""+n[b][0]]={name:n[b][0],seats:{},seatingType:{},ticketNumber:n[b][2]};o=r.getSpan().nextText("Flight Itinerary").parentTag("table4").allInnerTags("tr4").map(function(e){return e.allInnerTags("td4").map(function(e){return e.tagContents()})}).filter(function(e){return e.length>0});for(var y=0;o.length>y;y++)i=o[y],i.length>=6&&i[0].innerDate().exists()&&(u=i[0].innerDate(),s=i[1],m=i[2].innerCapture(/($<code>[A-Z]{3})\/($<airport>.*)\s/),c=m?m.$code:null,l=m?m.$airport:null,g=i[3].innerCapture(/($<code>[A-Z]{3})\/($<airport>.*)\s/),f=g?g.$code:null,d=g?g.$airport:null,h=i[4].innerDate(),p=o[y+1]&&o[y+1][0]&&o[y+1][0].innerCapture(/FLIGHT OPERATED BY/)?o[y+1][0].innerCapture(/FLIGHT OPERATED BY (.*)/,1):"US Airways",ASSERT(p,s,c,u,f,h)&&T.push({airlineName:p,flightNumber:s,departureCode:c,departureTime:u,arrivalCode:f,arrivalTime:h,passengers:v}));for(var C=[],y=0;T.length>y;y++)for(var N=T[y],S=Object.keys(N.passengers),A=0;S.length>A;A++){var $=N.passengers[S[A]],k={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:N.airlineName,airlineCode:N.airlineCode,flightNumber:N.flightNumber,departureAirportFuzzy:N.departureAirport,departureAirportCode:N.departureCode,departureTime:N.departureTime,arrivalAirportFuzzy:N.arrivalAirport,arrivalAirportCode:N.arrivalCode,arrivalTime:N.arrivalTime},underName:{"@type":"http://schema.org/Person",name:$.name,email:$.email},checkinUrl:a,reservationId:t,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:$.totalPrice,priceCurrency:$.priceCurrency,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:$.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:$.seats[N.flightNumber],seatingType:$.seatingType[N.flightNumber]}}};valid($.membershipNumber,$.programName)&&(k.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:$.membershipNumber,programName:$.programName}),C.push(k)}if(C.length)return C}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/297/308","SG38bb0c76")]);