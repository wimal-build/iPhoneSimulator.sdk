// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,o,s,d,c,i,h,g,p,l,x,m,u,T,C,$,A,v,y;return n.cancelled||(y=r.getSpan().nextTag("table4").nextTag("table4").nextTag("td4").tagContents().innerCapture(/($<hotelName>.*)\s+($<hotelAddress>.*)\s+($<hotelPhone>.*)/),C=y.$hotelPhone.innerPhoneNumber(),T=y.$hotelName,$=y.$hotelAddress.innerAddress().exists()?y.$hotelAddress.innerAddress():y.$hotelAddress),v=r.getSpan().nextText(n.duration).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/($<checkIn>.*) . ($<checkOut>.*)/)),g=v.$checkIn,x=v.$checkOut,c=x.nextText(n.reservationId).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1:\s+(\d+)/),1),A=c.nextLink(),a=A.nextText(n.name).nextAnyTag("td").tagContents(),h=A.nextText(n.checkIn).nextDate(),l=h.nextDate(),p=r.getDetachedSpan(""+g+" "+h).innerDate(),m=r.getDetachedSpan(""+x+" "+l).innerDate(),o=l.nextText(n.price).nextAnyTag("td").tagContents(),s=o.innerCapture(/([\d,.]+)/,1),d=o.innerCapture(/([^\d,.]+)/,1).trim(),n.cancelled&&(i="Cancelled"),ASSERT(a,p,m)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a},totalPrice:s,priceCurrency:d,checkinTime:p,checkoutTime:m,modifyReservationUrl:A,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),reservationId:c,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:T,url:u,telephone:C,address:$}}]:void 0}}).call();