// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("hostelworld.com-confirmation-en",function(e){return/^Confirmed booking from hostelworld\.com/.test(e.subject)},function(e){if(/^Confirmed booking from hostelworld\.com/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_US");var r,n,o,a,i,s,c,m,p,u,l,d,g;if(r=t.getSpan().innerCapture(/\bDear (.*),/,1),s=t.getSpan().innerCapture(/\bYour reference number is ([\d-]+)/,1),n=t.getSpan().nextText("booking information").nextTag("td2").tagContents(),d=n.innerPhoneNumber(),g=n.innerAddress(),p=n.withEnd(d.getStart()).innerCapture(/($<name>.*)\s($<address>[\s\S]+)/),l=p?p.$name:null,not(g)&&(g=p?p.$address.trim():null),c=t.getSpan().nextText("Room Details").nextDate(),m=c.nextDate(),o=t.getSpan().innerCapture(/\bTotal:\s+($<currency>[A-Z]+).*?($<total>[\d,.]+)/),a=o?o.$total:null,i=o?o.$currency:null,ASSERT(c,g))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r},totalPrice:a,priceCurrency:i,checkinTime:c,checkoutTime:m,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:l,url:u,telephone:d,address:g}}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/356/428/429","SG41cca821"),new ReverseTemplate("hostelworld.com-reminder-en",function(e){return/^Hostelworld\.com Pre-trip Reminder/.test(e.subject)},function(e){if(/^Hostelworld\.com Pre-trip Reminder/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_US");var r,n,o,a,i,s,c,m,p,u,l;if(r=t.getSpan().innerCapture(/\bHi (.*),/,1),n=t.getSpan().nextText("Your booking details").nextTag("table4").allInnerTagsFiltered("td4"),n.length>=6){i=n[0].innerCapture(/\bReservation Number: ([\d-]+)/,1),l=n[1].tagContents(),p=l,s=n[2].innerDate();var d=n[4].innerCapture(/\s($<currency>[A-Z]+).*?($<price>[\d,.]+)/),g=n[5].innerCapture(/\s($<currency>[A-Z]+).*?($<price>[\d,.]+)/);g&&(a=g.$currency,o=g.$price,valid(d,d.$price,o)&&(o=(parseFloat(""+o)+parseFloat(""+d.$price)).toFixed(2)))}if(ASSERT(s,l))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r},totalPrice:o,priceCurrency:a,checkinTime:s,checkoutTime:c,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:i,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:p,url:m,telephone:u,address:l}}]}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/356/428/430","SGc336a5f8")]);