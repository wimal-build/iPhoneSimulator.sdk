// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("lufthansa.com-cancellation-de",function(e){return/lufthansa.com - Ihre Stornierung - Buchungscode/.test(e.subject)},function(e){if(/lufthansa.com - Ihre Stornierung - Buchungscode/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/238","SGe6613618"),new ReverseTemplate("lufthansa.com-cancellation-en",function(e){return/lufthansa.com - Your cancellation - Reservation code/.test(e.subject)},function(e){if(/lufthansa.com - Your cancellation - Reservation code/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/239","SG9ff8efd9"),new ReverseTemplate("lufthansa.com-cancellation-fr",function(e){return/lufthansa.com - Votre annulation - Code de r\xe9servation/.test(e.subject)},function(e){if(/lufthansa.com - Votre annulation - Code de r\xe9servation/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/240","SG501fdba0"),new ReverseTemplate("lufthansa.com-cancellation-ja",function(e){return/lufthansa.com - \u4e88\u7d04\u53d6\u308a\u6d88\u3057\u78ba\u8a8d\u66f8 - \u4e88\u7d04\u756a\u53f7/.test(e.subject)},function(e){if(/lufthansa.com - \u4e88\u7d04\u53d6\u308a\u6d88\u3057\u78ba\u8a8d\u66f8 - \u4e88\u7d04\u756a\u53f7/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/241","SG20ad578f"),new ReverseTemplate("lufthansa.com-cancellation-zh_cn",function(e){return/lufthansa.com - \u60a8\u7684\u53d6\u6d88 - \u9884\u8ba2\u7f16\u53f7/.test(e.subject)},function(e){if(/lufthansa.com - \u60a8\u7684\u53d6\u6d88 - \u9884\u8ba2\u7f16\u53f7/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/242","SG5de6567f"),new ReverseTemplate("lufthansa.com-confirmation-de",function(e){return/^Ihre Flugdetails & Reiseinformationen/.test(e.subject)},function(e){if(/^Ihre Flugdetails & Reiseinformationen/.test(e.subject)){var t="de_DE",r={};r.bookingCodePrefix="Ihr Buchungscode:",r.ticketHeader="Flugscheindetails & Reiseinformationen",r.ticketHeaderAlternate="Reiseinformationen",r.ticketReservationChangeHeader="Flugscheindetails & Umbuchungsinformationen",r.importantNote="Wichtiger Hinweis: Sollten Sie Ihre Reisepl\xe4ne (z.B. Flugnummer, Reisedatum und/oder Bef\xf6rderungsklasse) \xe4ndern beachten Sie bitte, dass wir f\xfcr die Bereitstellung eines Spezialmen\xfcs einen Vorlauf von mindestens 24 Stunden ben\xf6tigen.",r.reservationChangeTotalPriceNote="Der angezeigte Gesamtpreis beinhaltet alle Kosten, die durch die Umbuchung entstehen",r.ticketNumberPrefix="Ticket Nr.:",r.itineraryHeader="Ihr Reiseverlauf",r.operatedByPrefix="durchgef\xfchrt von:",r.statusPrefix="Status",r.totalPriceOfTicketsPrefixRegExp=/Gesamtpreis Ihre(s|r) Tickets/,r.additionalFeesHeader="Zusatzkosten";var a=loadHelper("lufthansa.com-confirmation.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/243","SG2ec537c3"),new ReverseTemplate("lufthansa.com-confirmation-en",function(e){return/^Your ticket details & travel information/.test(e.subject)},function(e){if(/^Your ticket details & travel information/.test(e.subject)){var t="en_US",r={};r.bookingCodePrefix="Your booking code:";var a=loadHelper("lufthansa.com-confirmation.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/244","SG76e8767e"),new ReverseTemplate("lufthansa.com-confirmation-fr",function(e){return/^D\xe9tails de votre billet & informations sur votre voyage/.test(e.subject)},function(e){if(/^D\xe9tails de votre billet & informations sur votre voyage/.test(e.subject)){var t="fr_FR",r={};r.bookingCodePrefix="Votre code de r\xe9servation:";var a=loadHelper("lufthansa.com-confirmation.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/245","SG8abb11e8"),new ReverseTemplate("lufthansa.com-confirmation-ja",function(e){return/^\u304a\u5ba2\u69d8\u306e\u822a\u7a7a\u5238\u60c5\u5831&\u30c8\u30e9\u30d9\u30eb\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3/.test(e.subject)},function(e){if(/^\u304a\u5ba2\u69d8\u306e\u822a\u7a7a\u5238\u60c5\u5831&\u30c8\u30e9\u30d9\u30eb\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3/.test(e.subject)){var t="ja_JP",r={};r.bookingCodePrefix="\u4e88\u7d04\u756a\u53f7:";var a=loadHelper("lufthansa.com-confirmation.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/246","SGa19f4f34"),new ReverseTemplate("lufthansa.com-confirmation-zh_cn",function(e){return/^\u60a8\u7684\u673a\u7968\u8be6\u60c5&\u65c5\u884c\u4fe1\u606f /.test(e.subject)},function(e){if(/^\u60a8\u7684\u673a\u7968\u8be6\u60c5&\u65c5\u884c\u4fe1\u606f /.test(e.subject)){var t="zh_Hans_CN",r={};r.bookingCodePrefix="\u60a8\u7684\u9884\u8ba2\u4ee3\u7801:";var a=loadHelper("lufthansa.com-confirmation.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/247","SGa1b3463c"),new ReverseTemplate("lufthansa.com-e-ticket-en",function(e){return/^Travel Information/.test(e.subject)},function(e){if(/^Travel Information/.test(e.subject)){var t="en_US",r={};r.reservationCodePrefix="Reservation code:",r.travelInformationHeader="Travel Information",r.passengerNamePrefix="Travel dates for:",r.ticketNumberPrefix="Ticket number",r.flightColumnHeader="Flight",r.dateColumnHeader="Date",r.departureAirportColumnHeader="from",r.arrivalAirportColumnHeader="to",r.departureTimeColumnHeader="Departure",r.arrivalTimeColumnHeader="Arrival",r.operatedByPrefix="operated by:",r.reservationColumnHeader="Reservation";var a=loadHelper("lufthansa.com-e-ticket.js");return a(e,t,r)}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/248","SG33b519bf"),new ReverseTemplate("lufthansa.com-ticket-details",function(e){return/^Your ticket details & travel information/.test(e.subject)},function(e){if(/^Your ticket details & travel information/.test(e.subject)){var t="Reservation code:",r="Total Price for all passengers",a="Travel dates for:",n="Your flight itinerary",i="Total Price of your Ticket",o="seat:",s=Scanner.fromMessage(e);if(s.setLocale("en_US"),!s.getSpan().nextText("Reservation code:").exists())return CONTINUE;var l,u,c,f,m,d,h,p,v,g,b,T,j,S,C=[],x={};p=s.getSpan().innerCapture(regExpFormatted(/\1\s+($<reservationId>.*?) <($<checkinUrl>.*)>/,t)),l=p?p.$reservationId:null,u=p?p.$checkinUrl:null;var R,k;R=s.getSpan().nextText(r).nextTag("td1").nextTag("td1").tagContents(),k=R.nextTag("td1").tagContents(),f=s.getSpan().nextText(a).parentTag("table5").allInnerTagsFiltered("td5"),f.length&&(c=""+f[1],x[c]={name:c,price:k,currency:R,seats:{}}),d=s.getSpan().nextText(n).nextTag("table1").nextTag("table1").withEnd(s.getSpan().nextText(i).getStart()).allInnerTags("table1");for(var H,N=0;H=d[N++];)if(m=H.allInnerTagsFiltered("td1"),7===m.length){v=m[0].innerCapture(/^($<code>[A-Z]+) ($<flightNumber>\d+)/),g=v?v.$code:null,h=v?v.$flightNumber:null;var y=m[1].allDates();y&&(b=s.getDetachedSpan(""+y[0]+" "+m[4]).innerDate(),j=s.getDetachedSpan((1===y.length?""+y[0]:""+y[1])+" "+m[5]).innerDate()),T=m[2].innerCapture(/^([^<\n]+)/,1),S=m[3].innerCapture(/^([^<\n]+)/,1);var P=m[6].innerCapture(RegExp("\\b"+o+" ([\\w]+)"),1);valid(P,h)&&(x[c].seats[h]=P),ASSERT(g,h,b,T,j,S)&&C.push({airlineCode:g,flightNumber:h,departureAirport:T,departureTime:b,arrivalAirport:S,arrivalTime:j,passengers:x})}for(var I=[],N=0;C.length>N;N++)for(var w=C[N],F=Object.keys(w.passengers),A=0;F.length>A;A++){var G=w.passengers[F[A]],z={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineCode:"DL",flightNumber:w.flightNumber,departureAirportFuzzy:w.departureAirport,departureAirportCode:w.departureCode,departureTime:w.departureTime,arrivalAirportFuzzy:w.arrivalAirport,arrivalAirportCode:w.arrivalCode,arrivalTime:w.arrivalTime},underName:{"@type":"http://schema.org/Person",name:G.name},checkinUrl:u,reservationId:l,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:G.price,priceCurrency:G.currency,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:G.seats[w.flightNumber]}}};valid(G.membershipNumber,G.programName)&&(z.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:G.membershipNumber,programName:G.programName}),I.push(z)}if(I.length)return I}},"0/1/2/3/4/5/3/5/6/6/6/6/4/7/112/237/249","SG58f259cd")]);