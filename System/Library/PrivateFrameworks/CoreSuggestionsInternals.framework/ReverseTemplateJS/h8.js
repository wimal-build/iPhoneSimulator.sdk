// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,o,p,s,g,d,i,c,x,h,m,T,l,y,A,C,u,S,f,v,k;if(o=a.getSpan().innerCapture(regExpFormatted(/\1 (.*)\,/,n.name),1),k=a.getSpan().nextText(n.pickup).parentAnyTag("td").tagContents().innerDate(),u=k.nextAnyTag("td").tagContents().innerDate(),s=a.getSpan().nextText(n.reservationId).nextAnyTag("td").tagContents(),i=s.nextLink(),m=a.getSpan().nextText(n.brand).nextAnyTag("td").nextAnyTag("td").tagContents(),r=a.getSpan().nextText(n.price).nextAnyTag("td").tagContents(),x=r.innerCapture(/([\d,.]+)/,1),h=r.innerCapture(/([^\d,.]+)/,1),S=a.getSpan().nextText(n.pickupAddress).nextAnyTag("td").tagContents(),f=a.getDetachedSpan((""+a.getSpan().nextText(n.pickupAddress).parentAnyTag("table").tagContents()).replace(/\[\/?t(?:h|r|d)7\]/g,"")).innerAddress(),y=a.getSpan().nextText(n.dropoffAddress).nextAnyTag("td").tagContents(),A=a.getDetachedSpan((""+a.getSpan().nextText(n.dropoffAddress).parentAnyTag("table").tagContents()).replace(/\[\/?t(?:h|r|d)7\]/g,"")).innerAddress(),ASSERT(s,o,f,k)){var R={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:x,priceCurrency:h,reservationId:s,reservationStatus:"http://schema.org/Reservation"+(g||"Confirmed"),checkinUrl:d,modifyReservationUrl:i,cancelReservationUrl:c,underName:{"@type":"http://schema.org/Person",name:o,email:p},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:k,pickupLocation:{"@type":"http://schema.org/Place",name:S,telephone:v,address:f},dropoffTime:u,dropoffLocation:{"@type":"http://schema.org/Place",name:y,telephone:C,address:A}};return m&&(R.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:m},license:T,color:l}),[R]}}}).call();