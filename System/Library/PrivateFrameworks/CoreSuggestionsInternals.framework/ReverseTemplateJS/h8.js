// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,o,p,i,c,s,g,m,h,d,u,l,f,C,v,x,R,S,y,E;if(n.confirmSubject.test(e.subject)){r=a.getSpan().nextRegExp(n.guestName).tagContents().innerCapture(n.guestName,1),p=a.getSpan().nextRegExp(n.reservationId).tagContents().innerCapture(n.reservationId,1),E=a.getSpan().nextRegExp(n.dates).nextDate(),x=a.getSpan().nextRegExp(n.dates).nextDate().nextDate(),S=a.getSpan().nextRegExp(n.pickupLoc).tagContents().innerCapture(n.pickupLoc,1),C=a.getSpan().nextRegExp(n.dropoffLoc).tagContents().innerCapture(n.dropoffLoc,1),d=a.getSpan().nextRegExp(n.car).tagContents().innerCapture(n.car,1),g=s=a.getSpan().innerLink();var L=a.getSpan().nextRegExp(n.price).tagContents().innerCapture(n.price,1);if(m=L.innerCapture(/([\d,.]+)/,1),h=L.innerCapture(/([^\d,.]+)/,1),!ASSERT(r,p,E,x,S,C))return CONTINUE}if(n.cancellationSubject.test(e.subject)){if(!ASSERT(r,p))return CONTINUE;i="Cancelled"}return d?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:r,email:o},provider:{"@type":"http://schema.org/Organization",name:"Avis"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:u,color:l},pickupTime:E,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:y,address:S},dropoffTime:x,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:v,address:C}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:r,email:o},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:E,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:y,address:S},dropoffTime:x,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:v,address:C}}]}}).call();