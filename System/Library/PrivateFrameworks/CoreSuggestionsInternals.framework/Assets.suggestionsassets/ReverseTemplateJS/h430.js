// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,i,o,x,s,g,c,p,d,T,h,l,f,m="Confirmed";return c=r.getSpan().nextText(n.reservationIdPrefix).nextTag("td3").tagContents().innerCapture(/(\d+)/,1),p=r.getSpan().nextText(n.hotelReservationModifyUrlPrefix).nextLink(),d=r.getSpan().nextText(n.hotelReservationCancelUrlPrefix).nextLink(),[,a,i]=r.getSpan().nextText(n.underPersonNamePrefix).nextTag("td3").tagContents().innerCapture(/(.*?)\s?\((.*?)\)/),T=r.getSpan().nextText(n.checkInDatePrefix).nextTag("td3").innerDate(),h=r.getSpan().nextText(n.checkOutDatePrefix).nextTag("td3").innerDate(),[,o,s]=r.getSpan().nextText(n.hotelNamePrefix).nextTag("td3").tagContents().innerCapture(/(.*?)\s?<(.*?)>/),s=s.innerLink(),x=r.getSpan().nextText(n.hotelPhonePrefix).nextTag("td5").tagContents(),g=r.getSpan().nextText(n.hotelAddressPrefix).nextTag("td5").tagContents(),[,f,l]=r.getSpan().nextText(n.pricePrefix).nextTag("td4").tagContents().innerCapture(/(\D)\s?([\d,.]+)/),ASSERT(a,o,T)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:i},totalPrice:l,priceCurrency:f,checkinTime:T,checkoutTime:h,reservationStatus:"http://schema.org/Reservation"+m,reservationId:c,modifyReservationUrl:p,cancelReservationUrl:d,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,url:s,telephone:x,address:g}}]:CONTINUE}}).call();
