// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,r,t){var a=Scanner.fromMessage(e);a.setLocale(r);var i,n,o,p,h,d,g,s,c,l,u,m=[];if(i=a.getSpan().innerCapture(regExpFormatted(/\1\s*(.+),/,t.name),1),n=a.getSpan().next(t.reservationId).nextTag("td1").tagContents(),p=a.getSpan().next(t.checkinUrl).nextLink(),o=a.getSpan().innerCapture(t.flightDetails),o&&(h=o.$airlineCode,d=o.$flightNumber,g=o.$departureAirport,s=o.$departureAirportCode,c=o.$arrivalAirport,l=o.$arrivalAirportCode,u=a.getDetachedSpan(""+o.$departureTime).innerDate()),ASSERT(n,h,d,u)){var v={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:"TAP Portugal",airlineCode:h,flightNumber:d,departureAirportFuzzy:g,departureAirportCode:s,departureTime:u,arrivalAirportFuzzy:c,arrivalAirportCode:l},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:p,reservationId:n,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}};m.push(v)}return m.length?m:void 0}}).call();
