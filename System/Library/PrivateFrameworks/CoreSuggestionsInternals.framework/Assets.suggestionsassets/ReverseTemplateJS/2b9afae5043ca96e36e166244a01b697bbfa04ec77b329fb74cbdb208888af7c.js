// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("agoda.com-cancellation-en",function(e){return/^Cancelled Booking/.test(e.subject)},function(e){if(!/^Cancelled Booking/.test(e.subject))return CONTINUE;var t=Scanner.fromMessage(e);t.setLocale("en_US");var n,a,r,s,o,i,c,l,g,u,p;return a=t.getSpan().nextText("Original Booking Details").withEnd(t.getSpan().nextText("Cancellation Details").getStart()),n=a.innerCapture(/\s+Customer First Name : ($<first>.*?)\s+Customer Last Name : ($<last>.*?)\s/),n=n?t.getDetachedSpan(""+n.$first+" "+n.$last):null,o=a.innerCapture(/\sBooking ID\s+: (\d+)\s/,1),p=a.innerCapture(/\sHotel\s+: (.*)\s/,1),g=p,i=a.nextText("Arrival").nextDate(),c=a.nextText("Departure").nextDate(),ASSERT(n,i,c,p)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:n},totalPrice:r,priceCurrency:s,checkinTime:i,checkoutTime:c,reservationStatus:"http://schema.org/ReservationCancelled",reservationId:o,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:g,url:l,telephone:u,address:p}}]:void 0},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/488/498/499","SG6500c550")]);