// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,i,o,s,g,p,c,d,x,h,l,m=r.getSpan(),u="Cancelled";a=m.next(n.underPersonNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s(.*)/,n.underPersonNamePrefix),1),i=r.getDetachedSpan(e.to).innerLink(),c=m.innerCapture(regExpFormatted(/\1\s(\d+\-\d+\-\d+)\s/,n.reservationIdPrefix),1);var P=(""+m.next(n.bookingDetailBlockPrefix).nextAnyTag("table").nextAnyTag("td").tagContents()).split("\n");return o=P.shift(),p=P.join("\n"),g=m.nextText(n.hotelUrlPrefix).nextLink(),s=m.innerCapture(regExpFormatted(/<\1(.*)>/,n.hotelPhoneNumberPrefix),1),[d,x]=(""+m.next(n.hotelUrlPrefix).nextDate()).split(" - "),d=r.getDetachedSpan(d).innerDate(),x=r.getDetachedSpan(x).innerDate(),[,l,h]=m.next(RegExp(n.pricePrefix)).nextAnyTag("td").tagContents().innerCapture(/(\D)\s?([\d\,\.]+)/),ASSERT(OR(a,i),o,d)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:i},totalPrice:h,priceCurrency:l,checkinTime:d,checkoutTime:x,reservationStatus:"http://schema.org/Reservation"+u,reservationId:c,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:s,url:g,address:p}}]:void 0}}).call();