// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){if(!e||!t||!r)return CONTINUE;var n=Scanner.fromMessage(e);n.setLocale(t);var a,o,p,i,g,m,c,s,u,d,S,h,v,x,l,E,C;return a=n.getSpan().innerCapture(regExpFormatted(/\1 (.+),/,r.hello),1),p=n.getSpan().nextText(r.total),S=n.getSpan().withInterval(p.getEnd(),p.nextText("\n").getStart()),S&&(o=S.innerCapture(/([\d,.]+)/,1),i=S.innerCapture(/([^\d,.]+)/,1).trim()),d=n.getSpan().innerCapture(regExpFormatted(/\1: (\d+)/),1),p=n.getSpan().nextText(r.date),m=n.getSpan().withInterval(p.previousText("\n").previousText("\n").getEnd(),p.previousText("\n").getStart()).trim(),g=p.nextDate(),x=n.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,r.place),1).trim(),void 0!==r.seatNumber&&(c=n.getSpan().innerCapture(regExpFormatted(/\1: ([^,\n]+)/,r.seatNumber),1).trim()),void 0!==r.row&&(C=n.getSpan().innerCapture(regExpFormatted(/\1: ([^,\n]+),/,r.row),1).trim()),void 0!==r.block&&(s=n.getSpan().innerCapture(regExpFormatted(/\1: ([\w\s\.\/]+)(?:,|\n)/,r.block),1).trim()),ASSERT(g,m)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:a,totalPrice:o,priceCurrency:i,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:c,seatRow:C,seatSection:s},ticketToken:u,ticketNumber:d},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:m,url:v,startDate:g,endDate:E,location:{"@type":"http://schema.org/Place",name:x,telephone:l,address:h}}}]:void 0}}).call();
