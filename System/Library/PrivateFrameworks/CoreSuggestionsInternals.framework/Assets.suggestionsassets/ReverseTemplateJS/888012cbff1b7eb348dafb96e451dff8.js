// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("movietickets.com-1",function(e){return/^MovieTickets\.com Order Confirmation/.test(e.subject)},function(e){var t=Scanner.fromMessage(e);t.setLocale("en_US");var r,n,a,i,o,s,c,p,u,m,g,h,v;r=t.getSpan().innerCapture(/\b(.*), Thank you for ordering tickets/,1),i=t.getSpan().innerCapture(/\bYour [Cc]onfirmation [Nn]umber (?:At The Theater )?is ([-\w]+)\.?/,1),not(i)&&(i=t.getSpan().innerCapture(/\bTracking Number:\s+([\d-]+)\s/,1)),c=t.getSpan().innerCapture(/\bYour Movie:(?:\s+\.+)?\s+(.*)\s/,1),u=getFuzzyDate(t.getSpan()),v=getFuzzyAddress(t.getSpan()),h=t.getSpan().innerCapture(/\bTheater:(?:\s+\.+)?\s+(.*)\s/,1),s=t.getSpan().innerCapture(/\bTickets Purchased:(?:.*)(\d+)\s/,1);var S=t.getSpan().innerCapture(/\bOrder Total:(?:\D+)($<price>[\d,.]+)(?: ($<priceCurrency>[A-Z]{3}))?/);return S&&(n=S.$price,a=S.$priceCurrency),ASSERT(u,c)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",totalPrice:n,priceCurrency:a,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:s},ticketToken:o,ticketNumber:i},reservationFor:{"@type":"http://schema.org/MovieShowing",eventStatus:"http://schema.org/EventConfirmed",url:p,startDate:u,endDate:m,movie:{"@type":"http://schema.org/Movie",name:c},location:{"@type":"http://schema.org/Place",name:h,telephone:g,address:v}}}]:void 0},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/1340/1394/1395","SG1694b52d")]);
