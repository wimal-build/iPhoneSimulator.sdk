// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(t,e,a){var r=Scanner.fromMessage(t),n=r.getSpan();r.setLocale(e);var i,x,g,o,T,p,s,d,c,l,m,h,u,v,C,y,f,P,A;x=n.nextText(a.reservationIdPrefix).nextAnyTag("td").tagContents(),h=n.nextText(a.departurePrefix).nextAnyTag("td").tagContents().innerDate(),u=(""+n.nextText(a.departurePrefix).parentAnyTag("td")).split(/\s/,4),u=u[2].concat(u[3]),u=r.getDetachedSpan(h+" "+u).innerDate(),v=n.nextText(a.departurePrefix).nextTag("td1").nextTag("td2").nextTag("td2").tagContents();var S=(""+v).match(/\n(.+)\((.+)\)/);v=S[1].trim(),C=S[2],y=n.nextText(a.arrivalPrefix).nextAnyTag("td").tagContents().innerDate(),f=(""+n.nextText(a.arrivalPrefix).parentAnyTag("td")).split(/\s/,4),f=f[2].concat(f[3]),f=r.getDetachedSpan(y+" "+f).innerDate(),P=n.nextText(a.arrivalPrefix).nextTag("td2").tagContents(),A=(""+n.nextText(a.arrivalPrefix).nextTag("td2").nextTag("td2").tagContents()).match(/\((.+)\)/)[1],[,l,c]=(""+n.nextText(a.itineraryPrefix).nextTag("table2").nextTag("table3").tagContents()).match(/(\D+)([0-9]+)/),l=l.trim(),i=n.nextText(a.traverlerName).nextTag("td2").tagContents(),d=n.nextText(a.Seatpreference).nextTag("td2").tagContents(),s=(""+n.nextText(a.seatNumberPrefix).parentAnyTag("td").tagContents()).split(/\s/)[1],g=n.nextText(a.tripTotal).nextTag("table2").nextTag("td2").nextTag("td2").nextTag("td2").tagContents();var N=g;return g=N.innerCapture(/([\d,.-]+)/,1),o=N.innerCapture(/([^\d,.-]+)/,1).trim(),ASSERT(x)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:l,airlineCode:m,flightNumber:c,departureAirportFuzzy:v,departureAirportCode:C,departureTime:u,arrivalAirportFuzzy:P,arrivalAirportCode:A,arrivalTime:f},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:p,reservationId:x,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:g,priceCurrency:o,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:T,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:s,seatingType:d}}}]:CONTINUE}}).call();
