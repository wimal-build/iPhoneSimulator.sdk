// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,s,o,g,i,p,d,h,c,u,l,m,x,v=[];p=r.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)/,n.reservationId),1),m=(""+r.getSpan().next(n.guests).nextAnyTag("td").tagContents()).split(", "),i=(""+r.getSpan().next(n.hotelAddress).nextAnyTag("td").tagContents()).replace(/\n/g," "),s=r.getSpan().next(n.hotelAddress).next(n.hotelName).nextAnyTag("td").tagContents(),d=r.getSpan().next(n.hotelAddress).next(n.arrivalDate).parentAnyTag("td").innerDate(),h=r.getSpan().next(n.hotelAddress).next(n.departureDate).parentAnyTag("td").innerDate(),c=r.getSpan().next(n.price).nextAnyTag("td").tagContents(),u=c.innerCapture(/([\d,.]+)/,1),l=c.innerCapture(/([^\d,.]+)/,1);for(var A=0;m.length>A;A++)if(!n.otherGuest.test(m[A])){if(!ASSERT(m[A],s,d))return CONTINUE;x={"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:m[A],email:a},totalPrice:u,priceCurrency:l,checkinTime:d,checkoutTime:h,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:p,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:s,telephone:o,url:g,address:i}},v.push(x)}return v.length?v:void 0}}).call();
