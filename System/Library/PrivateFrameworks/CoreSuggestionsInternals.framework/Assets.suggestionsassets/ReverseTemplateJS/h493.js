// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var n=Scanner.fromMessage(e);n.setLocale(t);var a,i,p,o,m,g,s,c,h,u,x,d;a=n.getSpan().innerCapture(regExpFormatted(/\1 (.+),/,r.namePrefix),1).trim(),g=n.getSpan().innerCapture(regExpFormatted(/\1: (\w+)/,r.bookingNumberPrefix),1).trim();var l=n.getSpan().nextText(r.travellerDetails);p=l.nextPhoneNumber(),i=l.nextLink(),h=n.getSpan().innerCapture(regExpFormatted(/(.+) - \1/,r.hotelNamePrefix),1).trim(),d=h.nextLink(),x=h.nextAddress(),u=h.nextPhoneNumber();var S=n.getSpan().innerCapture(regExpFormatted(/\1: (.+)/,r.checkInPrefix),1);S=S.split(r.from),s=n.getDetachedSpan(S[0]+S[1].trim());var v=n.getSpan().innerCapture(regExpFormatted(/\1: (.+)/,r.checkOutPrefix),1);v=v.split(r.by),c=n.getDetachedSpan(v[0]+v[1].trim());var f=n.getSpan().nextText(r.tripTotal).nextTag("td1").tagContents().trim(),C=f.split(" ");return 2==C.length?(m=C[1].innerCapture(/([^\s\d,\.])/,1),m=C[0]+" "+m):m=f.innerCapture(/([^\s\d,\.])/,1),o=n.getDetachedSpan((""+f).replace(m,"").trim()),ASSERT(x,s)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:i},totalPrice:o,priceCurrency:m,checkinTime:s,checkoutTime:c,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:h,telephone:u,address:x,url:d}}]:STOP}}).call();
