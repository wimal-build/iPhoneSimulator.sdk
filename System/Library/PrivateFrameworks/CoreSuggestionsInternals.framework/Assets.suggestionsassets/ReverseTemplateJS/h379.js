// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,r,t){var n=Scanner.fromMessage(e);n.setLocale(r);var a,i,p,o,s,m,g,c,d,u,h,S,l,C,v;return s=n.getSpan().innerCapture(regExpFormatted(/\1\s*(.*)/,t.reservationId),1),a=n.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)/,t.name),1),u=(""+n.getSpan().innerCapture(regExpFormatted(/\1.*\n(.*)/,t.hotelInfo),1)).trim(),S=n.getSpan().innerCapture(regExpFormatted(/\1([\s\S]*)\2/,u,t.email),1).innerAddress(),S.exists()||(S=(""+n.getSpan().innerCapture(regExpFormatted(/\1([\s\S]*)\2/,u,t.email),1).trim()).replace(/(\n\s*)+/g,"\n")),h=n.getSpan().innerCapture(regExpFormatted(/\1[\s\S]*\2\s+([\d\s]+)/,u,t.phone),1).trim(),g=n.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)\s+/,t.checkIn),1).innerDate(),c=n.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)\s+/,t.checkOut),1).innerDate(),v=n.getSpan().innerCapture(regExpFormatted(/\1\s*(.*)/,t.price),1),p=v.innerCapture(/([\d,.]+)/,1),o=v.innerCapture(/([^\d,.]+)/,1).trim(),ASSERT(a,u,g,c)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:i},totalPrice:p,priceCurrency:o,checkinTime:g,checkoutTime:c,modifyReservationUrl:l,cancelReservationUrl:C,reservationStatus:"http://schema.org/Reservation"+(m||"Confirmed"),reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:u,url:d,telephone:h,address:S}}]:void 0}}).call();
