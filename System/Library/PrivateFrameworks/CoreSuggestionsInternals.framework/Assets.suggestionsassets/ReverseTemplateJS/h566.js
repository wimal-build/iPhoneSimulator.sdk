// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(t,e,n){if(!t||!e||!n)return CONTINUE;var a=Scanner.fromMessage(t);a.setLocale(e);var r,g,x,o,p,s,i,d,h,S,m,l;return m=a.getSpan().nextText(n.person),o=a.getSpan().withInterval(m.nextText("\n").getEnd(),m.nextText("\n").nextText("\n").getStart()).innerCapture(regExpFormatted(/(\d+.*\1 )?(\d+)/,n.arrow),2),g=a.getSpan().withStart(a.getSpan().nextText(n.number).getEnd()).withEnd(a.getSpan().nextText(n.number).nextText("\u25a0"+n.restaurant).getStart()).trim(),x=a.getSpan().withStart(a.getSpan().nextText(n.number).nextText(n.restaurant).getEnd()).withEnd(a.getSpan().nextText("\u25a0"+n.date).getStart()).trim(),i=a.getSpan().nextText(n.phone).nextPhoneNumber().trim(),d=a.getSpan().nextText(n.address).nextAddress().split("\n")[0],r=a.getDetachedSpan(" "),s=a.getSpan().nextText(n.date).nextText(n.arrow).nextDate(),m=a.getSpan().nextText(n.date),l=a.getSpan().withInterval(m.nextText("\n").getEnd(),m.nextText("\n").nextText("\n").getStart()).innerCapture(regExpFormatted(/(.*\1 )?(.*)/,n.arrow),2).allInnerDates(),l.length>0&&(l=a.getSpan().withStart(l[0].getStart()).withEnd(l[l.length-1].getEnd()),s=getFuzzyDate(a.getDetachedSpan((""+l).replace(/[^\d\sa-zA-z:]+/g," ").replace(/\s+/g," ").replace(/^(\d+)\s(\d+)\s/,"$1/$2 ")))),ASSERT(o,x,s,r)?[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:o,reservationId:g,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:x,url:p,telephone:i,address:d},startTime:s,bookingAgent:{"@type":"http://schema.org/Organization",name:"Tabelog",url:"https://www.tabelog.com/"},underName:{"@type":"http://schema.org/Person",name:r},cancelReservationUrl:S,modifyReservationUrl:h}]:CONTINUE}}).call();
