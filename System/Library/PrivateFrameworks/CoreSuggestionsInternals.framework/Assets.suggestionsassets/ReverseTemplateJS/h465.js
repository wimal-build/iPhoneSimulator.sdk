// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,i,o=r.getSpan().nextText(n.hotelNamePrefix).nextTag("td1").nextTag("td1").tagContents().trim(),x=o.nextTag("td1").tagContents().trim(),g=x.nextTag("td1").tagContents().innerCapture(regExpFormatted(/\1(.+)/,n.hotelPhonePrefix),1).trim(),s=r.getSpan().nextText(n.hotelDescriptionHeader).nextTag("table2"),c=r.getDateDD(s.nextDate());c.iso8601&&c.endIso8601?(a=c.iso8601,i=c.endIso8601):a=s.nextDate();var d=s.nextText(n.reservationIdPrefix).nextTag("td2").tagContents().trim(),m=(s.nextText(n.roomPrefix).nextTag("td2").tagContents().split("\n"),(""+r.getSpan().nextText(n.guestNamePrefix).nextAnyTag("td").tagContents().innerCapture(/.*?\.\s(.*)/,1)).trim()),p=s.nextText(n.emailPrefix).nextTag("td2").innerLink(),T=(s.nextText(n.phoneNumberPrefix).nextTag("td2").innerPhoneNumber(),r.getSpan().nextText(n.pricePrefix).nextTag("td2").nextTag("td2").tagContents().innerCapture(/($<price>[\d,\. ]+)($<currency>[^\d,\. ]+)/)),h=T.$price,u=T.$currency;return ASSERT(m,a,d,x)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:m,email:p},totalPrice:h,priceCurrency:u,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:d,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:g,address:x}}]:void 0}}).call();
