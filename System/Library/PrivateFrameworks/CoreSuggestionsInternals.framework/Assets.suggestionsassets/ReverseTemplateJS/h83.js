// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r=loadHelper("europcar-microdata-parser.js"),o=r(e);if(o)return o;var i,p,s,c,g,m,d,h,x,l,u,T,v,C,f,S,y,R,I,P;a.getSpan().nextText(n.reservationId).exists()&&(s=a.getSpan().nextText(n.reservationId).nextTag("td3").tagContents().trim()),a.getSpan().nextText(n.inquiryId).exists()&&(s=a.getSpan().nextText(n.inquiryId).nextTag("td3").tagContents().trim()),l=a.getSpan().nextText(n.car).nextTag("td3").tagContents().trim(),l=(""+l).replace(/\n/," "),a.getSpan().nextText(n.guestName).exists()&&(i=a.getSpan().nextText(n.guestName).nextTag("td3").tagContents(),p=/mailto/.test(a.getSpan().nextText(n.guestEmail).nextTag("td3").tagContents())?(""+a.getSpan().nextText(n.guestEmail).nextTag("td3").tagContents()).match(/(.+) (<mailto?)/)[1]:a.getSpan().nextText(n.guestEmail).nextTag("td3").tagContents().trim());var k=a.getSpan().nextText(n.pickup).nextTag("td3").tagContents();P=k.innerDate(),R=(""+k).match(/([\w\s]+?)(,|\n)/)[1],I=a.getSpan().nextText(n.pickupAddress).nextTag("td3").tagContents().innerPhoneNumber();var E=a.getSpan().nextText(n.dropoff).nextTag("td3").tagContents();S=E.innerDate(),C=(""+E).match(/([\w\s]+?)(,|\n)/)[1];var N=a.getSpan().nextText(n.price).nextTag("td3").tagContents(),U=N.innerCapture(/^(.+)\(/,1);if(0===(""+N).length&&(N=U),n.priceInner){var L=N.innerCapture(n.priceInner,1);0!==(""+L).length&&(N=N.innerCapture(n.priceInner,1))}return h=N.innerCapture(/([\d,.]+)/,1),x=N.innerCapture(/([^\d,.]+)/,1).trim(),ASSERT(s,P,S,R,C)?l?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:h,priceCurrency:x,reservationId:s,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),checkinUrl:g,modifyReservationUrl:m,cancelReservationUrl:d,underName:{"@type":"http://schema.org/Person",name:i,email:p},provider:{"@type":"http://schema.org/Organization",name:"Europcar"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:l},license:u,color:T},pickupTime:P,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:I,address:R},dropoffTime:S,dropoffLocation:{"@type":"http://schema.org/Place",name:v,telephone:f,address:C}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:h,priceCurrency:x,reservationId:s,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),checkinUrl:g,modifyReservationUrl:m,cancelReservationUrl:d,underName:{"@type":"http://schema.org/Person",name:i,email:p},provider:{"@type":"http://schema.org/Organization",name:"Europcar"},pickupTime:P,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:I,address:R},dropoffTime:S,dropoffLocation:{"@type":"http://schema.org/Place",name:v,telephone:f,address:C}}]:CONTINUE}}).call();
