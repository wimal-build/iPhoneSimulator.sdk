// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,r,t){var a=Scanner.fromMessage(e);a.setLocale(r);var n,i,o,p,d,u,s,m,g,l,h,T=[],c=[];for(n=a.getSpan().next(t.name).nextTag("td5").nextTag("td5").tagContents(),d=n.nextDate(),u=d.nextTransitInformation();u.exists();)h={},h.airlineCode=u.innerCapture(/^(\D+)/,1),h.flightNumber=u.innerCapture(/(\d+)$/,1),s=u.next(/\s\(\w{2,3}\)/).parentAnyTag("td").tagContents(),m=s.previousAnyTag("td").innerDate(),g=s.nextAnyTag("tr").innerDate(),l=g.nextAnyTag("td").tagContents(),h.departureAirport=s.innerCapture(/(.*)\s\(/,1),h.departureCode=s.innerCapture(/\((\w{2,3})\)/,1),h.departureTime=combineDateAndTime(d,m),h.arrivalAirport=l.innerCapture(/(.*)\s\(/,1),h.arrivalCode=l.innerCapture(/\((\w{2,3})\)/,1),h.arrivalTime=combineDateAndTime(d,g),h.seatingType=l.nextTag("td5").tagContents(),ASSERT(h.airlineCode,h.flightNumber,h.departureCode,h.arrivalCode,h.departureTime,h.arrivalTime)&&T.push(h),u=u.nextTransitInformation();for(var v=0;T.length>v;v++){var h=T[v],C={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:"Lufthansa",airlineCode:"LH",flightNumber:h.flightNumber,departureAirportFuzzy:h.departureAirport,departureAirportCode:h.departureCode,departureTime:h.departureTime,arrivalAirportFuzzy:h.arrivalAirport,arrivalAirportCode:h.arrivalCode,arrivalTime:h.arrivalTime},underName:{"@type":"http://schema.org/Person",name:n},checkinUrl:"",reservationId:i,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:o,priceCurrency:p,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:i,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:"",seatingType:h.seatingType}}};c.push(C)}return c.length?c:void 0}}).call();
