// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,g,i,s,o,x,p,c,d,h,u;p=a.getSpan().nextText(n.reservationIdPrefix).nextTag("td3").tagContents().innerCapture(/(\d+)/,1),[,r,g]=a.getSpan().nextText(n.underPersonNamePrefix).nextTag("td3").tagContents().innerCapture(/(.*?)\s?\((.*?)\)/),c=a.getSpan().nextText(n.checkInDatePrefix).nextTag("td3").innerDate(),d=a.getSpan().nextText(n.checkOutDatePrefix).nextTag("td3").innerDate(),[,i,s]=a.getSpan().nextText(n.hotelNamePrefix).nextTag("td3").nextTag("td3").tagContents().innerCapture(/(.*?)\s?<(.*?)>/),s=s.innerLink(),o=a.getSpan().innerCapture(regExpFormatted(/\1\s?(\+?\d+)/,n.hotelPhonePrefix),1);var T=a.getDetachedSpan((""+a.getSpan().nextText(n.hotelNamePrefix).nextTag("td3").nextTag("td3").tagContents()).replace(/\n+/g," ").replace(/\s+,\s+/g,", ").replace(/,+/g,", ").replace(/\s+/g," "));return x=T.innerCapture(regExpFormatted(/>\s(.*)\s\1/,n.hotelPhonePrefix),1),""+x==""+a.getNullSpan()&&(x=T.innerCapture(/>\s(.*)\s/,1)),[,u,h]=a.getSpan().nextText(n.pricePrefix).nextTag("td4").tagContents().innerCapture(/(\D)\s?([\d,.]+)/),ASSERT(r,x,c)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:g},totalPrice:h,priceCurrency:u,checkinTime:c,checkoutTime:d,reservationStatus:"http://schema.org/ReservationCancelled",reservationId:p,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:i,url:s,telephone:o,address:x}}]:CONTINUE}}).call();
