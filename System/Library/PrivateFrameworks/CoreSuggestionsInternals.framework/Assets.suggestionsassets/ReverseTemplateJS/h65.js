// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var n=Scanner.fromMessage(e);n.setLocale(t);var a,o,i,p,s,m,c,g,d,l,h,u,x,E,S,f,v,C,R,y,P;i=n.getSpan().innerCapture(regExpFormatted(/\1 (\w+)/,r.confirmationNumberPrefix),1);var $=n.getSpan().nextText(r.pickupHeader).withEnd(n.getSpan().nextText(r.dropoffHeader).getStart());P=$.innerDate(),R=$.withStart(P.getEnd()).trim().innerCapture(/(.*)\s/,1).trim(),y=$.innerPhoneNumber();var F=n.getSpan().nextText(r.dropoffHeader).withEnd(n.getSpan().nextRegExp(regExpFormatted(/\1\s+-----/,r.carHeader)).getStart());v=F.innerDate(),S=F.withStart(F.getEnd()).trim().innerCapture(/(.*)\s/,1).trim(),f=F.innerPhoneNumber(),not(S)&&(S=R),not(f)&&(f=y),l=n.getSpan().nextRegExp(regExpFormatted(/\1\s+-----/,r.carHeader)).withEnd(n.getSpan().nextRegExp(regExpFormatted(/\1\s+-----/,r.optionsHeader)).getStart()).trim(),l=l.exists()?l.innerCapture(/\s(.*)$/,1):null,x=n.getSpan().nextRegExp(regExpFormatted(/\1\s+-----+/,r.personalInformationHeader)).collapseToEnd().withEnd(n.getSpan().nextRegExp(regExpFormatted(/\1\s+-----+/,r.promisedRateHeader)).getStart()).trim(),x=x?x.innerCapture(/^($<name>.*)\s+($<email>.*)\s+/):null,a=x?x.$name:null,o=x?x.$email:null;var H=n.getSpan().innerCapture(regExpFormatted(/\s+-+\s+\1 ($<priceCurrency>[A-Z]{3})\s+: ($<totalPrice>[\d,.]+)/,r.pricePrefix));return g=H?H.$totalPrice:null,d=H?H.$priceCurrency:null,ASSERT(i,a,l,R,P)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:d,reservationId:i,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),checkinUrl:s,modifyReservationUrl:m,cancelReservationUrl:c,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:"Budget"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:l},license:h,color:u},pickupTime:P,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:y,address:R},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:E,telephone:f,address:S}}]:void 0}}).call();
