// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,i,p,o,s,d,g,x,c,l,f,y,h,m,A,T,u=a.getSpan(),v=a.getDetachedSpan(e.subject),C="Confirmed";if(A=u.innerCapture(regExpFormatted(/\1 (.*) \n/,n.underPersonName_prefix),1),r=v.innerCapture(regExpFormatted(/\1 (.*)/,n.reservationId_prefix),1),i=u.next(n.pickupDetails_prefix).nextAnyTag("td").nextAnyTag("td").innerDate(),d=u.next(n.dropoffDetails_prefix).nextAnyTag("td").nextAnyTag("td").innerDate(),p=(""+u.next(n.pickupDetails_prefix).nextAnyTag("td").nextAnyTag("td").tagContents()).split("\n")[0],g=(""+u.next(n.dropoffDetails_prefix).nextAnyTag("td").nextAnyTag("td").tagContents()).split("\n")[0],s=u.next(n.pickupDetails_prefix).nextAnyTag("td").nextAnyTag("td").innerAddress(),s===a.getNullSpan()){var D=(""+u.next(n.pickupDetails_prefix).nextAnyTag("td").nextAnyTag("td").tagContents()).split("\n");D.length>=3&&(s="",s+=", "+D[0],s+=", "+D[1],s+=", "+D[2])}if(c=u.next(n.dropoffDetails_prefix).nextAnyTag("td").nextAnyTag("td").innerAddress(),c===a.getNullSpan()){var _=(""+u.next(n.pickupDetails_prefix).nextAnyTag("td").nextAnyTag("td").tagContents()).split("\n");_.length>=3&&(c="",c+=", "+_[0],c+=", "+_[1],c+=", "+_[2])}return T=u.next(n.carBrand_prefix).nextAnyTag("td").nextAnyTag("td").nextAnyTag("td").tagContents(),ASSERT(i,s||p)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationId:r,totalPrice:l,priceCurrency:f,reservationStatus:"http://schema.org/"+C,checkinUrl:y,modifyReservationUrl:h,cancelReservationUrl:m,underName:{"@type":"http://schema.org/Person",name:A},provider:{"@type":"http://schema.org/Organization",name:"Redspot"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:T},license:"",color:""},pickupTime:i,pickupLocation:{"@type":"http://schema.org/Place",name:p,telephone:o,address:s},dropoffTime:d,dropoffLocation:{"@type":"http://schema.org/Place",name:g,telephone:x,address:c}}]:void 0}}).call();
