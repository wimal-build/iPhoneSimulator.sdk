// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(r){if(r.html){var e=parseMicrodataAndJsonLd(r.html),t=[];if(e.length){for(var a=0;e.length>a;a++)switch(e[a]["@context"]="http://schema.org",e[a]["@type"]){case"http://schema.org/FlightReservation":if("http://schema.org/Booking"===e[a].reservationStatus&&(e[a].reservationStatus="http://schema.org/ReservationConfirmed"),!e[a].reservationFor.departureTime||!e[a].reservationFor.arrivalTime)return CONTINUE;t.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineCode:e[a].reservationFor.airline.iataCode,airlineName:e[a].reservationFor.airline.name,flightNumber:e[a].reservationFor.flightNumber.trim(),departureAirportFuzzy:e[a].reservationFor.departureAirport.name,departureAirportCode:e[a].reservationFor.departureAirport.iataCode.trim(),departureTime:e[a].reservationFor.departureTime.replace(/ /g,""),arrivalAirportFuzzy:e[a].reservationFor.arrivalAirport.name,arrivalAirportCode:e[a].reservationFor.arrivalAirport.iataCode.trim(),arrivalTime:e[a].reservationFor.arrivalTime.replace(/ /g,"")},underName:{"@type":"http://schema.org/Person",name:e[a].underName.name},checkinUrl:e[a].checkinUrl,reservationId:e[a].reservationNumber,reservationStatus:e[a].reservationStatus,totalPrice:e[a].totalPrice,priceCurrency:e[a].priceCurrency,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:e[a].ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatingType:e[a].airplaneSeatClass.name}},programMembershipUsed:{"@type":"http://schema.org/ProgramMembership"}})}return t.length>0?t:CONTINUE}}}}).call();
