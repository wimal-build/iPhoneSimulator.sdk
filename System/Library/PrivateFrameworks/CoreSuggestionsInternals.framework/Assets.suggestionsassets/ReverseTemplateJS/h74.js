// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,o,i,p,x,s,d,g,c,m,f,h,l,T,u,C=r.getSpan(),P="Confirmed";o=C.innerCapture(n.reservationIdRegExp,1),i=C.nextText(n.carBrandPrefix).nextAnyTag("td").tagContents();var y=C.nextText(n.pickUpBlockHeader);d=y.nextText(n.dateTimePrefix).nextDate(),s=y.nextText(n.addressPrefix).nextAnyTag("td").tagContents().innerCapture(/(.+)\n/,1),x=y.nextText(n.telephonePrefix).nextAnyTag("td").tagContents();var v=C.nextText(n.dropOffBlockHeader);f=v.nextText(n.dateTimePrefix).nextDate(),m=v.nextText(n.addressPrefix).nextAnyTag("td").tagContents().innerCapture(/(.+)\n/,1),c=v.nextText(n.telephonePrefix).nextAnyTag("td").tagContents(),h=l=C.nextText(n.modifyReservationUrl).nextLink(),a=r.getSpan().next(n.underPersonNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,n.underPersonNamePrefix),1);var A=C.nextText(n.pricePrefix).nextAnyTag("td").tagContents().innerCapture(/(\D)([\d\,\.]+)/);return A&&A!==r.getNullSpan()?[,u,T]=A:(A=C.innerCapture(regExpFormatted(/\1\s(\D)\s?([\d\,\.]+)/,n.pricePrefix)),A&&3===A.length?[,u,T]=A:(A=C.innerCapture(regExpFormatted(/\1\s??([\d\,\.]+)\s(\D)/,n.pricePrefix)),A&&3===A.length&&([,u,T]=A))),ASSERT(o,s,d)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:T,priceCurrency:u,reservationStatus:"http://schema.org/Reservation"+P,reservationId:o,modifyReservationUrl:h,cancelReservationUrl:l,underName:{"@type":"http://schema.org/Person",name:a},provider:{"@type":"http://schema.org/Organization",name:"Dollar Rent A Car"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:i}},pickupTime:d,pickupLocation:{"@type":"http://schema.org/Place",name:p,telephone:x,address:s},dropoffTime:f,dropoffLocation:{"@type":"http://schema.org/Place",name:g,telephone:c,address:m}}]:void 0}}).call();
