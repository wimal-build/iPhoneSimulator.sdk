// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,o,p,i,c,s,g,m,h,d,l,u,x,y,f,v,R,C,S,T,k="Advantage";p=a.getSpan().innerCapture(n.reservationId,1),r=a.getSpan().nextRegExp(n.guestName).nextTag("td8").tagContents(),d=""+a.getSpan().nextRegExp(n.modifyUrl).nextAnyTag("td").nextAnyTag("td").tagContents(),"("===d.charAt(0)&&")"===d.charAt(d.length)&&(d=d.substr(1,d.length-1)),d=d.substr(1,d.length-2),T=a.getSpan().nextRegExp(n.pickupTime).nextDate(),v=a.getSpan().nextRegExp(n.dropoffTime).nextDate(),C=a.getSpan().nextRegExp(n.pickupAddress).nextAnyTag("td").tagContents();var A=a.getSpan().nextRegExp(n.price).nextAnyTag("td").tagContents();return m=A.innerCapture(/([\d,.]+)/,1),h=A.innerCapture(/([^\d,.]+)/,1).trim(),s=g=a.getSpan().nextRegExp(n.modifyUrl).nextLink(),n.confirmSubject.test(e.subject)&&!ASSERT(r,p,T,v,C||R)?CONTINUE:0===(""+d).length||null===d?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:r,email:o},provider:{"@type":"http://schema.org/Organization",name:k},pickupTime:T,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:S,address:C},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:x,telephone:f,address:y}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:r,email:o},provider:{"@type":"http://schema.org/Organization",name:k},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:l,color:u},pickupTime:T,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:S,address:C},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:x,telephone:f,address:y}}]}}).call();
