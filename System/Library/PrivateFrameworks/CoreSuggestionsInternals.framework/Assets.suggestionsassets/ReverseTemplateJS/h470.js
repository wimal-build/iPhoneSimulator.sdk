// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n=a.getSpan().nextText(r.flightNumberPrefix).parentTag("table1"),i=n.nextText(r.fromPrefix).parentTag("td1"),o=i.innerDate(),p=i.tagContents().innerCapture(/($<airportName>.+)\(($<airportCode>\w{3})\)/),g=p.$airportName,m=p.$airportCode,s=i.tagContents().innerCapture(regExpFormatted(/\1: ($<airlineCode>\w{2})($<flightNumber>\d+)/,r.flightNumberPrefix)),d=s.$airlineCode,x=s.$flightNumber,c=i.tagContents().innerCapture(regExpFormatted(/\1 (.+)/,r.airlineNamePrefix),1),u=x.nextTag("td1"),l=u.innerDate(),C=u.tagContents().innerCapture(/($<airportName>.+)\(($<airportCode>\w{3})\)/),h=C.$airportName,T=C.$airportCode,f=a.getSpan().nextText(r.pricePrefix).nextTag("td1").tagContents().innerCapture(/($<price>[\d\., ]+)($<currency>[^\d\., ]+)/),$=f.$price.trim(),v=f.$currency.trim(),N=a.getSpan().nextText(r.reservationIdPrefix).nextTag("td1").tagContents().innerCapture(/\w{6}/,0),y=a.getSpan().nextText(r.passengerDetailsHeader).parentTag("table1"),P=y.nextText(r.passengerNamePrefix).nextTag("td1").tagContents().trim(),S=P.nextText(r.passengerEmailPrefix).nextLink();return ASSERT(d,x,o,m,l,T)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:c,airlineCode:d,flightNumber:x,departureAirportFuzzy:g,departureAirportCode:m,departureTime:o,arrivalAirportFuzzy:h,arrivalAirportCode:T,arrivalTime:l},underName:{"@type":"http://schema.org/Person",name:P,email:S},reservationId:N,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:$,priceCurrency:v,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}}]:void 0}}).call();
