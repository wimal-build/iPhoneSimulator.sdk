// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var n=Scanner.fromMessage(e);n.setLocale(t);var a,i,p,o,g,m,s,d,c,x,u,f;if(o=n.getSpan().innerCapture(regExpFormatted(/\1 (.*) </,r.confirmation_id),1).trim(),f=n.getSpan().next(r.confirmation_id).nextLink(),g=n.getSpan().next(r.driver).previousTag("td5").nextTag("td5").tagContents().innerCapture(regExpFormatted(/\1 (.*)/,r.driver),1).trim(),u=n.getSpan().next(r.email).nextLink().nextLink(),x=n.getSpan().innerCapture(regExpFormatted(/\1 (.*) \2/,r.provider_prefix,r.provider_suffix),1).trim(),m=n.getSpan().next(r.pickUp).nextDate(),s=n.getSpan().next(r.pickUp).previousAddress(),c=n.getSpan().next(r.dropOff).nextDate(),d=n.getSpan().withInterval(m.getEnd(),c.getStart()).innerAddress(),a=n.getSpan().next(r.price).nextTag("td4").tagContents(),i=a.innerCapture(/([0-9,\.]+)/,1).trim(),p=a.innerCapture(/(\D)[0-9]+/,1).trim(),p||(p=a.innerCapture(/[0-9]+(\D)/,1).trim()),d.exists()||(d=s),ASSERT(s,m,x,g,i,f)){var v={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:i,priceCurrency:p,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",underName:{"@type":"http://schema.org/Person",name:g,email:u},provider:{"@type":"http://schema.org/Organization",name:x},pickupTime:m,pickupLocation:s,dropoffTime:c,dropoffLocation:d};return[v]}}}).call();