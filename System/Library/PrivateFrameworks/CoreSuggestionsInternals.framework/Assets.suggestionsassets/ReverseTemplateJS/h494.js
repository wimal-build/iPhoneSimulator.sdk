// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n,o,p,i,c,s,g,m,d,u,h,l,C,y,f,v,x,T,S,A,P,R,k;return P=a.getSpan().next(r.hotel.reservationIdPrefix).nextAnyTag("td").tagContents(),s=a.getSpan().innerCapture(r.car.providerCapture,1),k=a.getSpan().next(r.car.bookingInfo).nextAnyTag("td"),f=k.innerCapture(r.car.pickupTimeCapture,1).innerDate(),C=f.parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,""+f),1),u=k.nextAnyTag("td").nextAnyTag("td").innerCapture(r.car.dropoffTimeCapture,1).innerDate(),m=u.parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,""+u),1),p=a.getSpan().innerCapture(r.car.brandCapture,1),v=a.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)/,r.car.name),1),h=a.getSpan().next(r.car.newPrice).parentAnyTag("td").tagContents(),x=h.innerCapture(/([\d,.]+)/,1),T=h.innerCapture(regExpFormatted(/\1([^\d,.]+)/,r.car.newPrice),1),R=r.car.cancellation.test(e.subject)?"Cancelled":"Confirmed",ASSERT(v,s,f)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:x,priceCurrency:T.trim(),reservationId:P,reservationStatus:"http://schema.org/Reservation"+R,checkinUrl:S,modifyReservationUrl:n,cancelReservationUrl:o,underName:{"@type":"http://schema.org/Person",name:v.trim(),email:A},provider:{"@type":"http://schema.org/Organization",name:s},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:p},license:i,color:c},pickupTime:f,pickupLocation:{"@type":"http://schema.org/Place",name:l,telephone:y,address:C.trim()},dropoffTime:u,dropoffLocation:{"@type":"http://schema.org/Place",name:g,telephone:d,address:m.trim()}}]:void 0}}).call();
