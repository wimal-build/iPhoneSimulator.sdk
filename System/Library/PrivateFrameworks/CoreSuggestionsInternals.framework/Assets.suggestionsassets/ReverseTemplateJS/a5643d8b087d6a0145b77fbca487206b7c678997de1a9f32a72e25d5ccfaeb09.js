// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("jal.com-confirmation-jp",function(e){return/JAL\u56fd\u5185\u7dda.*?(\u4e88\u7d04|\u8cfc\u5165)\u5185\u5bb9\u306e\u304a\u77e5\u3089\u305b/.test(e.subject)},function(e){if(!/JAL\u56fd\u5185\u7dda.*?(\u4e88\u7d04|\u8cfc\u5165)\u5185\u5bb9\u306e\u304a\u77e5\u3089\u305b/.test(e.subject))return CONTINUE;var r="ja_JP",t={};t.underPersonNameSuffix="\u69d8",t.totalPricePrefix="\u5408\u8a08",t.departureTimeSuffix="\u767a",t.arrivalTimeSuffix="\u7740";var a=Scanner.fromMessage(e);a.setLocale(r);var i,o,p,n,u,m,s,d,l,c,f,h,v,g,T,A,C=a.getSpan(),N="JAL",S="JL",D=[],x=[],y=[];return i=C.innerCapture(regExpFormatted(/\s?(.+)\s\1/,t.underPersonNameSuffix),1),D.push({name:i}),[,l,s]=C.innerCapture(/\(\d+\)\s+(.+)\s+\D{3}(\d{3,4})\D/),[,f,c,T,g]=C.innerCapture(regExpFormatted(/\((.+)\)\s+(.+)\1\s+\u2192\s+.+\((.+)\)\s(.+)\2/,t.departureTimeSuffix,t.arrivalTimeSuffix)),d=a.getDetachedSpan(l+" "+c).innerDate(),v=a.getDetachedSpan(l+" "+g).innerDate(),x.push({airlineName:N,airlineCode:S,flightNumber:s,departureDateTime:d,departureAirport:f,departureAirportCode:h,arrivalDateTime:v,arrivalAirport:T,arrivalAirportCode:A,seatNumber:null,seatType:null}),[,p,n]=C.innerCapture(regExpFormatted(/\1\s?([\d\,\.]+)(\D)/,t.totalPricePrefix)),D.forEach(function(e){x.forEach(function(r){ASSERT(e.name,r.airlineName||r.airlineCode,r.departureAirport||r.departureAirportCode,r.departureDateTime,r.arrivalAirport||r.arrivalAirportCode,r.arrivalDateTime)&&y.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:r.airlineName,airlineCode:r.airlineCode,flightNumber:r.flightNumber,departureAirportFuzzy:r.departureAirport,departureAirportCode:r.departureAirportCode,departureTime:r.departureDateTime,arrivalAirportFuzzy:r.arrivalAirport,arrivalAirportCode:r.arrivalAirportCode,arrivalTime:r.arrivalDateTime},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:m,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:p,priceCurrency:n,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:u,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:r.seatNumber,seatingType:r.seatingType}}})})}),y.length>=1?y:void 0},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/185/350/354","SGe7aa206c")]);