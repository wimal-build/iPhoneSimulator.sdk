// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("lastminute.com-confirmation-en",function(e){return/^Booking confirmation/.test(e.subject)},function(e){if(/^Booking confirmation/.test(e.subject)&&/Your lastminute\.com booking is confirmed/.test(e.plain)){var t={};t.confirm="Confirmation number:",t.restaurant="Restaurant:",t.booking="Booking confirmation for",t.cancel="cancel your booking";var n="en_US",a=loadHelper("lastminute.com-confirmation-skeleton.js");return a(e,n,t)}return CONTINUE},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/1219/1141/1262","SG8926cf7c"),new ReverseTemplate("opentable.co.uk-cancellation-en",function(e){return/booking cancellation$/.test(e.subject)},function(e){if(/booking cancellation$/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_GB");var n,a,o,r,i,s,m,c,p,u,g;if(g=t.getSpan().nextTag("table3").nextTag("table3").innerTag("td3").nextTag("td3").tagContents().innerCapture(regExpFormatted(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/)),g&&(r=g.$underName,o=g.$startTime,n=g.$partySize,m=g.$reservationId),a=t.getSpan().nextText("Restaurant:").nextTag("td3").tagContents().trim(),ASSERT(n,a,o,r))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:n,reservationId:m,reservationStatus:"http://schema.org/ReservationCancelled",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:a,url:i,telephone:s,address:c},startTime:o,bookingAgent:{"@type":"http://schema.org/Organization",name:"Opentable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:r},cancelReservationUrl:p,modifyReservationUrl:u}]}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/1219/1280/1281","SGddd1cf08"),new ReverseTemplate("opentable.co.uk-confirmation-en",function(e){return/^Booking confirmation for/.test(e.subject)||/booking amendment$/.test(e.subject)||/^Upcoming booking at/.test(e.subject)},function(e){if(/^Booking confirmation/.test(e.subject)||/booking amendment$/.test(e.subject)||/^Upcoming booking at/.test(e.subject)){if(/Your lastminute\.com booking is confirmed/.test(e.plain))return CONTINUE;var t="en_GB",n=loadHelper("opentable.com-microdata-parser.js"),a=n(e,t);if(a)return a;var o=Scanner.fromMessage(e);o.setLocale(t);var r,i,s,m,c,p,u,g,l,d,b,h;if(b=o.getSpan().nextText("Diner's name:").nextAnyTag("td").tagContents().innerCapture(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/),b&&(m=b.$underName,s=b.$startTime,r=b.$partySize,u=b.$reservationId),b=o.getSpan().nextText("Restaurant:").nextAnyTag("td").tagContents().innerCapture(/($<name>.*)\n($<address>.*)\s+($<phoneNumber>.*)\s+See menus, map & more/),b&&(i=b.$name,g=b.$address,p=b.$phoneNumber.trim()),h=o.getDetachedSpan(e.html),l=h.nextText("cancel this booking").previousLink(),d=h.nextText("Change this booking").previousLink(),ASSERT(r,s,m))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:r,reservationId:u,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:i,url:c,telephone:p,address:g},startTime:s,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:m},cancelReservationUrl:l,modifyReservationUrl:d}]}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/1219/1280/1282","SGcb8b2613")]);
