// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,x,g,i,o,s,p,c,d,T,h;a.getSpan().next(n.reservationCancelled).exists()&&(r="Cancelled"),p=a.getSpan().nextText(n.reservationIdPrefix).nextTag("td1").tagContents(),x=a.getSpan().innerCapture(regExpFormatted(/\1\s(.*)/,n.underPersonNamePrefix),1),x=(""+x).replace(",","").trim(),g=a.getSpan().nextText(n.underPersonEmailPrefix).nextTag("td1").tagContents(),c=a.getSpan().nextText(n.checkInDatePrefix).nextAnyTag("td").innerDate(),d=a.getSpan().nextText(n.checkOutDatePrefix).nextTag("td1").innerDate(),i=a.getSpan().nextText(n.hotelNamePrefix).nextTag("td1").tagContents(),o=a.getSpan().nextText(n.hotelPhonePrefix).nextTag("td1").tagContents(),s=""+a.getSpan().nextText(n.hotelAddressPrefix).nextTag("td1").tagContents();var m=a.getSpan().nextText(n.pricePrefix).nextTag("td1").tagContents();return m===a.getNullSpan()&&(m=a.getSpan().nextText(n.priceSuffix).parentTag("td1").tagContents()),m.exists()&&([,h,T]=m.innerCapture(/(.)\s([\d,.]+)/)),ASSERT(x,s,c)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:x,email:g},totalPrice:T,priceCurrency:h,checkinTime:c,checkoutTime:d,reservationStatus:"http://schema.org/Reservation"+(r||"Confirmed"),reservationId:p,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:i,telephone:o,address:s}}]:CONTINUE}}).call();
