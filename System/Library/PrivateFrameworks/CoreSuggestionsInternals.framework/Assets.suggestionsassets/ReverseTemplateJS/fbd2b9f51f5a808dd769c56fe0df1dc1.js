// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("lufthansa-schemaorg",function(e){return!0},function(e){var t=loadHelper("lufthansa-schemaorg-parser.js"),a=t(e);return a?a:void 0},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/518","SG240e70da"),new ReverseTemplate("lufthansa.com-cancellation-de",function(e){return/lufthansa.com - Ihre Stornierung - Buchungscode/.test(e.subject)||/LH\.com - Ihre Stornierung - Buchungscode:/.test(e.subject)},function(e){if(/lufthansa.com - Ihre Stornierung - Buchungscode/.test(e.subject)||/LH\.com - Ihre Stornierung - Buchungscode:/.test(e.subject)){var t="de_DE",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/519","SG6ed3f19d"),new ReverseTemplate("lufthansa.com-cancellation-en",function(e){return/lufthansa.com - Your cancellation - Reservation code/.test(e.subject)||/^LH.com - Your cancellation - Reservation code:/.test(e.subject)},function(e){if(/lufthansa.com - Your cancellation - Reservation code/.test(e.subject)||/^LH.com - Your cancellation - Reservation code:/.test(e.subject)){var t="en_US",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/520","SG22e4ad3c"),new ReverseTemplate("lufthansa.com-cancellation-es",function(e){return/lufthansa.com - Cancelaci\xf3n - C\xf3digo de reserva/.test(e.subject)||/^LH.com - Cancelaci\xf3n - C\xf3digo de reserva:/.test(e.subject)},function(e){if(/lufthansa.com - Cancelaci\xf3n - C\xf3digo de reserva/.test(e.subject)||/^LH.com - Cancelaci\xf3n - C\xf3digo de reserva:/.test(e.subject)){var t="es_ES",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/521","SG4311a120"),new ReverseTemplate("lufthansa.com-cancellation-fr",function(e){return/lufthansa.com - Votre annulation - Code de r\xe9servation/.test(e.subject)},function(e){if(/lufthansa.com - Votre annulation - Code de r\xe9servation/.test(e.subject)){var t="fr_FR",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/522","SGb5e73444"),new ReverseTemplate("lufthansa.com-cancellation-it",function(e){return/lufthansa.com - La sua cancellazione - Codice di prenotazione/.test(e.subject)},function(e){if(/lufthansa.com - La sua cancellazione - Codice di prenotazione/.test(e.subject)){var t="it_IT",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/523","SGf53d4269"),new ReverseTemplate("lufthansa.com-cancellation-ja",function(e){return/lufthansa.com - \u4e88\u7d04\u53d6\u308a\u6d88\u3057\u78ba\u8a8d\u66f8 - \u4e88\u7d04\u756a\u53f7/.test(e.subject)},function(e){if(/lufthansa.com - \u4e88\u7d04\u53d6\u308a\u6d88\u3057\u78ba\u8a8d\u66f8 - \u4e88\u7d04\u756a\u53f7/.test(e.subject)){var t=loadHelper("lufthansa.com-cancellation.js");return t(e)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/524","SG8e92413e"),new ReverseTemplate("lufthansa.com-cancellation-zh_cn",function(e){return/lufthansa.com - \u60a8\u7684\u53d6\u6d88 - \u9884\u8ba2\u7f16\u53f7/.test(e.subject)},function(e){if(/lufthansa.com - \u60a8\u7684\u53d6\u6d88 - \u9884\u8ba2\u7f16\u53f7/.test(e.subject)){var t="zh_Hans_CN",a=loadHelper("lufthansa.com-cancellation.js");return a(e,t)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/525","SG8b99c1ff"),new ReverseTemplate("lufthansa.com-change-en",function(e){return/^Change of Reservation/.test(e.subject)},function(e){if(/^Change of Reservation/.test(e.subject)){var t="en_US",a={};a.bookingCodePrefix=/Your booking codes:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/526","SG2cd78066"),new ReverseTemplate("lufthansa.com-confirmation-de",function(e){return/^Ihre Flugdetails & Reiseinformationen/.test(e.subject)||/^Buchungsdetails/.test(e.subject)},function(e){if(/^Ihre Flugdetails & Reiseinformationen/.test(e.subject)||/^Buchungsdetails/.test(e.subject)){var t="de_DE",a={};a.bookingCodePrefix=/(?:Ihr|Lufthansa) Buchungscode\:/,a.ticketHeader="Flugscheindetails & Reiseinformationen",a.ticketHeaderAlternate="Reiseinformationen",a.ticketReservationChangeHeader="Flugscheindetails & Umbuchungsinformationen",a.importantNote="Wichtiger Hinweis: Sollten Sie Ihre Reisepl\xe4ne (z.B. Flugnummer, Reisedatum und/oder Bef\xf6rderungsklasse) \xe4ndern beachten Sie bitte, dass wir f\xfcr die Bereitstellung eines Spezialmen\xfcs einen Vorlauf von mindestens 24 Stunden ben\xf6tigen.",a.reservationChangeTotalPriceNote="Der angezeigte Gesamtpreis beinhaltet alle Kosten, die durch die Umbuchung entstehen",a.ticketNumberPrefix="Ticket Nr.:",a.itineraryHeader="Ihr Reiseverlauf",a.operatedByPrefix="durchgef\xfchrt von:",a.statusPrefix="Status",a.totalPriceOfTicketsPrefixRegExp=/Gesamtpreis Ihre(s|r) Tickets/,a.additionalFeesHeader="Zusatzkosten";var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/528","SG8a25d69b"),new ReverseTemplate("lufthansa.com-confirmation-en",function(e){return/^Your ticket details & travel information/.test(e.subject)||/(?:Your)?\s*Booking Details/.test(e.subject)},function(e){if((/^Your ticket details & travel information/.test(e.subject)||/(?:Your)?\s*Booking Details/.test(e.subject))&&int(e.epoch)>1388534400){var t="en_US",a={};a.bookingCodePrefix=/Lufthansa|Your booking code\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/529","SGafd81162"),new ReverseTemplate("lufthansa.com-confirmation-es",function(e){return/^Detalles de su billete e informaci\xf3n de viaje/.test(e.subject)||/^Detalles de su reserva/.test(e.subject)},function(e){if(/^Detalles de su billete e informaci\xf3n de viaje/.test(e.subject)||/^Detalles de su reserva/.test(e.subject)){var t="es_ES",a={};a.bookingCodePrefix=/(Su c\xf3digo de reserva|C\xf3digo de reserva de Lufthansa)\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/530","SG114a03d7"),new ReverseTemplate("lufthansa.com-confirmation-fr",function(e){return/^D\xe9tails de votre billet & informations sur votre voyage/.test(e.subject)},function(e){if(/^D\xe9tails de votre billet & informations sur votre voyage/.test(e.subject)){var t="fr_FR",a={};a.bookingCodePrefix=/Votre code de r\xe9servation\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/531","SG8490cd36"),new ReverseTemplate("lufthansa.com-confirmation-it",function(e){return/^Dettagli della sua prenotazione/.test(e.subject)},function(e){if(/^Dettagli della sua prenotazione/.test(e.subject)){var t="it_IT",a={};a.bookingCodePrefix=/Codice di prenotazione Lufthansa\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/532","SG55a5f61f"),new ReverseTemplate("lufthansa.com-confirmation-ja",function(e){return/^\u304a\u5ba2\u69d8\u306e\u822a\u7a7a\u5238\u60c5\u5831&\u30c8\u30e9\u30d9\u30eb\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3/.test(e.subject)},function(e){if(/^\u304a\u5ba2\u69d8\u306e\u822a\u7a7a\u5238\u60c5\u5831&\u30c8\u30e9\u30d9\u30eb\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3/.test(e.subject)){var t="ja_JP",a={};a.bookingCodePrefix=/\u4e88\u7d04\u756a\u53f7\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/533","SG37c5fe38"),new ReverseTemplate("lufthansa.com-confirmation-zh_cn",function(e){return/^\u60a8\u7684\u673a\u7968\u8be6\u60c5&\u65c5\u884c\u4fe1\u606f /.test(e.subject)},function(e){if(/^\u60a8\u7684\u673a\u7968\u8be6\u60c5&\u65c5\u884c\u4fe1\u606f /.test(e.subject)){var t="zh_Hans_CN",a={};a.bookingCodePrefix=/\u60a8\u7684\u9884\u8ba2\u4ee3\u7801\:/;var r=loadHelper("lufthansa.com-confirmation.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/534","SGcaf83b3e"),new ReverseTemplate("lufthansa.com-e-ticket-en",function(e){return/^Travel Information/.test(e.subject)||/^Booking details\,/.test(e.subject)},function(e){if(/^Travel Information/.test(e.subject)||/^Booking details\,/.test(e.subject)){var t="en_US",a={};a.reservationCodePrefix="Reservation code:",a.passengerNamePrefix=/((?:New)?\s*Travel dates for\:)/i,a.ticketNumberPrefix="Ticket number",a.flightColumnHeader="Flight",a.dateColumnHeader="Date",a.departureAirportColumnHeader="from",a.arrivalAirportColumnHeader="to",a.departureTimeColumnHeader="Departure",a.arrivalTimeColumnHeader="Arrival",a.operatedByPrefix="operated by:",a.reservationColumnHeader="Reservation",a.baggageRegulations=/(Baggage regulations|Flight information)/,a.seatPrefix="seat";var r=loadHelper("lufthansa.com-e-ticket.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/535","SGe9b28459"),new ReverseTemplate("lufthansa.com-e-ticket-es",function(e){return/^Detalles de la reserva/.test(e.subject)},function(e){if(/^Detalles de la reserva/.test(e.subject)){var t="es_ES",a={};a.reservationCodePrefix="C\xf3digo de reserva:",a.travelInformationHeader="Detalles de la reserva",a.passengerNamePrefix="Fechas del viaje para:",a.ticketNumberPrefix="N\xfamero de billete",a.flightColumnHeader="Vuelo",a.dateColumnHeader="Fecha",a.departureAirportColumnHeader="De",a.arrivalAirportColumnHeader="A",a.departureTimeColumnHeader="Salida",a.arrivalTimeColumnHeader="Llegada",a.operatedByPrefix="operado por:",a.reservationColumnHeader="Reserva",a.baggageRegulations="Informaci\xf3n de vuelos",a.seatPrefix="asiento";var r=loadHelper("lufthansa.com-e-ticket.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/536","SG6cb2de72"),new ReverseTemplate("lufthansa.com-e-ticket-it",function(e){return/^Dettagli della prenotazione/.test(e.subject)},function(e){if(/^Dettagli della prenotazione/.test(e.subject)){var t="it_IT",a={};a.reservationCodePrefix="Codice di prenotazione:",a.passengerNamePrefix=/(Le nuove date del viaggio sono|Date di viaggio per)\:/i,a.ticketNumberPrefix="Numero del biglietto",a.flightColumnHeader="Volo",a.dateColumnHeader="Data",a.departureAirportColumnHeader="Da",a.arrivalAirportColumnHeader="A",a.departureTimeColumnHeader="Partenza",a.arrivalTimeColumnHeader="Arrivo",a.operatedByPrefix="operato da",a.reservationColumnHeader="Prenotazione",a.baggageRegulations=/(Informazione sui suoi voli|regolamenti bagagli)/,a.seatPrefix="posto";var r=loadHelper("lufthansa.com-e-ticket.js");return r(e,t,a)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/537","SG7faa7170"),new ReverseTemplate("lufthansa.com-ticket-details",function(e){return/^Your ticket details & travel information/.test(e.subject)},function(e){if(/^Your ticket details & travel information/.test(e.subject)){var t="Reservation code:",a="Total Price for all passengers",r="Travel dates for:",n="Your flight itinerary",o="Total Price of your Ticket",i="seat:",s=Scanner.fromMessage(e);if(s.setLocale("en_US"),!s.getSpan().nextText("Reservation code:").exists())return CONTINUE;var l,u,c,d,f,m,p,g,h,v,b,j,C,T,H=[],S={};g=s.getSpan().innerCapture(regExpFormatted(/\1\s+($<reservationId>.*?) <($<checkinUrl>.*)>/,t)),l=g?g.$reservationId:null,u=g?g.$checkinUrl:null;var R,x;R=s.getSpan().nextText(a).nextTag("td1").nextTag("td1").tagContents(),x=R.nextTag("td1").tagContents(),d=s.getSpan().nextText(r).parentTag("table5").allInnerTagsFiltered("td5"),d.length&&(c=""+d[1],S[c]={name:c,price:x,currency:R,seats:{}}),m=s.getSpan().nextText(n).nextTag("table1").nextTag("table1").withEnd(s.getSpan().nextText(o).getStart()).allInnerTags("table1");for(var k,P=0;k=m[P++];)if(f=k.allInnerTagsFiltered("td1"),7===f.length){h=f[0].innerCapture(/^($<code>[A-Z]+) ($<flightNumber>\d+)/),v=h?h.$code:null,p=h?h.$flightNumber:null;var N=f[1].allDates();N&&(b=s.getDetachedSpan(""+N[0]+" "+f[4]).innerDate(),C=s.getDetachedSpan((1===N.length?""+N[0]:""+N[1])+" "+f[5]).innerDate()),j=f[2].innerCapture(/^([^<\n]+)/,1),T=f[3].innerCapture(/^([^<\n]+)/,1);var D=f[6].innerCapture(RegExp("\\b"+i+" ([\\w]+)"),1);valid(D,p)&&(S[c].seats[p]=D),ASSERT(v,p,b,j,C,T)&&H.push({airlineCode:v,flightNumber:p,departureAirport:j,departureTime:b,arrivalAirport:T,arrivalTime:C,passengers:S})}for(var z=[],P=0;H.length>P;P++)for(var w=H[P],I=Object.keys(w.passengers),y=0;I.length>y;y++){var G=w.passengers[I[y]],_={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineCode:"LH",flightNumber:w.flightNumber,departureAirportFuzzy:w.departureAirport,departureAirportCode:w.departureCode,departureTime:w.departureTime,arrivalAirportFuzzy:w.arrivalAirport,arrivalAirportCode:w.arrivalCode,arrivalTime:w.arrivalTime},underName:{"@type":"http://schema.org/Person",name:G.name},checkinUrl:u,reservationId:l,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:G.price,priceCurrency:G.currency,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:G.seats[w.flightNumber]}}};valid(G.membershipNumber,G.programName)&&(_.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:G.membershipNumber,programName:G.programName}),z.push(_)}if(z.length)return z}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/9/244/517/538","SGaf720b5e")]);
