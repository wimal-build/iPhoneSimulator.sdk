// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e),n=a.getSpan();a.setLocale(t);var i,o,p,s,c,g,d,h,m,x,u,l,T,y,f,v,C;return o=n.nextText(r.reservationIdPrefix).nextAnyTag("td").tagContents(),[,x,m,h]=n.nextText(r.flightNumberPrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.*?)\s\1\s(\d+)\s(.*)/,r.flightNumberPrefix)),[,T,l]=(""+n.nextText(r.departureBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),l=a.getDetachedSpan(l).innerDate(),[,v,f]=(""+n.nextText(r.arrivalBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),f=a.getDetachedSpan(f).innerDate(),i=(""+n.nextText(r.underPersonNamePrefix).nextAnyTag("tr").nextAnyTag("td").tagContents()).replace(/(.*?)\/(.*?)\sMRS?/,"$2 $1"),ASSERT(i,x||u,T||y,l,v||C,f)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:x,airlineCode:u,flightNumber:m,departureAirportFuzzy:T,departureAirportCode:y,departureTime:l,arrivalAirportFuzzy:v,arrivalAirportCode:C,arrivalTime:f},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:g,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:p,priceCurrency:s,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:c,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:d,seatingType:h}}}]:CONTINUE}}).call();