// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,o,x,i,s,g,c,p,d,h,T=r.getSpan();a=T.nextText(n.underPersonNameSuffix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.+)\s*?\1/,n.underPersonNameSuffix),1),g=T.nextText(n.reservationIdPrefix).nextAnyTag("td").tagContents(),o=(""+T.nextText(n.hotelNamePrefix).nextAnyTag("td").tagContents()).replace(/\s*<.*?>/,""),i=T.nextText(n.hotelNamePrefix).nextLink(),x=T.nextText(n.hotelPhonePrefix).nextAnyTag("td").tagContents(),s=T.nextText(n.hotelAddressPrefix).nextAnyTag("td").tagContents(),c=r.getDetachedSpan((""+T.nextText(n.checkInDateTimePrefix).nextAnyTag("td").tagContents()).replace(/\s*\(.\)\s*/," ")).innerDate(),p=r.getDetachedSpan((""+T.nextText(n.checkOutDateTimePrefix).nextAnyTag("td").tagContents()).replace(/\s*\(.\)\s*/," ")).innerDate();var m=(r.getSpan().nextText(n.pricePrefix).nextTag("td2").tagContents(),T.innerCapture(n.priceRegExp));return m&&3===m.length&&([,d,h]=T.innerCapture(n.priceRegExp)),ASSERT(a,o,c)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a},totalPrice:d,priceCurrency:h,checkinTime:c,checkoutTime:p,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:x,url:i,address:s}}]:void 0}}).call();
