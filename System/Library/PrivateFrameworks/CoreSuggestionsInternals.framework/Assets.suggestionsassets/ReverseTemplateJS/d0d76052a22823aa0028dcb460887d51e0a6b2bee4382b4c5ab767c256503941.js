// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("opentable.co.uk-cancellation-en",function(e){return/booking cancellation$/.test(e.subject)},function(e){if(/booking cancellation$/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_GB");var n,a,r,o,s,i,m,p,c,g,u;if(u=t.getSpan().nextTag("table3").nextTag("table3").innerTag("td3").nextTag("td3").tagContents().innerCapture(regExpFormatted(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/)),u&&(o=u.$underName,r=u.$startTime,n=u.$partySize,m=u.$reservationId),a=t.getSpan().nextText("Restaurant:").nextTag("td3").tagContents().trim(),ASSERT(n,a,r,o))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:n,reservationId:m,reservationStatus:"http://schema.org/ReservationCancelled",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:a,url:s,telephone:i,address:p},startTime:r,bookingAgent:{"@type":"http://schema.org/Organization",name:"Opentable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:o},cancelReservationUrl:c,modifyReservationUrl:g}]}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/929/990/991","SGe91effe6"),new ReverseTemplate("opentable.co.uk-confirmation-en",function(e){return/^Booking confirmation for/.test(e.subject)||/^Your .*? booking amendment$/.test(e.subject)||/^Upcoming booking at/.test(e.subject)},function(e){if(/^Booking confirmation/.test(e.subject)||/^Your .*? booking amendment$/.test(e.subject)||/^Upcoming booking at/.test(e.subject)){var t="en_GB",n=loadHelper("opentable.com-microdata-parser.js"),a=n(e,t);if(a)return a;var r=Scanner.fromMessage(e);r.setLocale(t);var o,s,i,m,p,c,g,u,d,l,h,b;if(h=r.getSpan().nextText("Diner's name:").nextAnyTag("td").tagContents().innerCapture(/($<underName>.*)\n($<startTime>.*)\n($<partySize>\d+)\n($<reservationId>\d+)/),h&&(m=h.$underName,i=h.$startTime,o=h.$partySize,g=h.$reservationId),h=r.getSpan().nextText("Restaurant:").nextAnyTag("td").tagContents().innerCapture(/($<name>.*)\n($<address>.*)\s+($<phoneNumber>.*)\s+See menus, map & more/),h&&(s=h.$name,u=h.$address,c=h.$phoneNumber.trim()),b=r.getDetachedSpan(e.html),d=b.nextText("cancel this booking").previousLink(),l=b.nextText("Change this booking").previousLink(),ASSERT(o,i,m))return[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:o,reservationId:g,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:s,url:p,telephone:c,address:u},startTime:i,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"https://www.opentable.co.uk"},underName:{"@type":"http://schema.org/Person",name:m},cancelReservationUrl:d,modifyReservationUrl:l}]}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/929/990/992","SG23b3d435")]);