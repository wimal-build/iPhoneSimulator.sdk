// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);if(a.setLocale(t),!a.getSpan().nextText(n.reservationDetailsHeader).exists()&&!a.getSpan().nextText(n.reservationDetailsHeader_2).exists())return CONTINUE;var r,i,x=a.getSpan().nextText(n.reservationIdPrefix).nextTag("td4").tagContents().trim(),o=x.nextText(n.carRentalProviderPrefix).nextTag("td4").tagContents().trim(),s=a.getSpan().nextText(n.pricePrefix).parentTag("td3").tagContents().innerCapture(/\s(\D{3})\s([\d\.\,]+)/);s&&null!==s&&s.length>2&&(r=s[2],i=s[1]);var g=a.getSpan().nextText(n.modifyReservationUrlPrefix).nextLink(),d=g.nextText(n.addressPrefix).nextTag("td5").tagContents(),m=d.nextText(n.phoneNumberPrefix).nextTag("td5").tagContents(),T=m.nextText(n.rentalAgencyLocationNamePrefix).parentTag("table5"),c=T.nextText(n.rentalAgencyLocationNamePrefix).nextTag("td5").tagContents().trim(),p=T.nextText(n.datePrefix).nextTag("td5").innerDate(),f=T.nextText(n.timePrefix).nextTag("td5").innerDate(),l=combineDateAndTime(p,f),h=T.nextTag("table5"),P=h.nextText(n.rentalAgencyLocationNamePrefix).nextTag("td5").tagContents().trim(),v=h.nextText(n.datePrefix).nextTag("td5").innerDate(),C=h.nextText(n.timePrefix).nextTag("td5").innerDate(),u=combineDateAndTime(v,C),y=h.nextText(n.driverNamePrefix).nextTag("td5").tagContents().trim(),D=y.nextText(n.brandPrefix).nextTag("td5").tagContents().trim();if(ASSERT(o,y,d,l)){var S={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:r,priceCurrency:i,reservationId:x,reservationStatus:"http://schema.org/ReservationConfirmed",modifyReservationUrl:g,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:y},provider:{"@type":"http://schema.org/Organization",name:o},pickupTime:l,pickupLocation:{"@type":"http://schema.org/Place",name:c,telephone:m,address:d},dropoffTime:u,dropoffLocation:{"@type":"http://schema.org/Place",name:P,telephone:m,address:d}};return D&&(S.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:D}}),[S]}}}).call();
