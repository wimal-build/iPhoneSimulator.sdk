// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,r,t){function a(e){return e=e.replace(/[^\d\sa-zA-z:\u6642]+/g," ").replace(/\s+/g," ").replace(/^(\d+)\s(\d+)\s/,"$1/$2/"),e=getFuzzyDate(n.getDetachedSpan(e))}var n=Scanner.fromMessage(e);n.setLocale(r);var p,i,o,c,s,u,g,m,l,d,h,C,v,f,S,y,z,R,P,k;o=n.getSpan().innerCapture(t.reservationId,1),p=(""+n.getSpan().innerCapture(t.guestName,1)).trim(),i=(""+n.getSpan().innerCapture(t.guestEmail,1)).trim(),d=(""+n.getSpan().innerCapture(t.car,1)).trim();var x=n.getSpan().innerCapture(t.pickup,1);k=""+x.innerCapture(/(.+)\((.+)\)/,1),k=a(k),R=""+x.innerCapture(/\((.+)\)/,1);var T=n.getSpan().innerCapture(t.dropoff,1);y=""+T.innerCapture(/(.+)\((.+)\)/,1),y=a(y),f=""+T.innerCapture(/\((.+)\)/,1);var L=n.getSpan().innerCapture(t.totalPrice,1);return m=L.innerCapture(/([\d.,]+)/,1),l=L.innerCapture(/[\d.,]+(.+)\\uff08/,1).trim(),(t.cancel.test(e.subject)||n.getSpan().nextText(t.forcedCancel).exists())&&(c="Cancelled"),ASSERT(p,o,k,y,R,f)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:l,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),checkinUrl:s,modifyReservationUrl:u,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:p,email:i},provider:{"@type":"http://schema.org/Organization",name:"Budget"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:h,color:C},pickupTime:k,pickupLocation:{"@type":"http://schema.org/Place",name:z,telephone:P,address:R},dropoffTime:y,dropoffLocation:{"@type":"http://schema.org/Place",name:v,telephone:S,address:f}}]:void 0}}).call();
