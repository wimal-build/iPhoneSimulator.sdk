// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,s,i,o,g,p,d,c,u,m,l,x,h,C,v,S,T,D,R,y;return y=a.getSpan().nextText(n.addressLabel).previousTag("table5").lastInnerTag("td5"),T=y.innerAddress().exists()?y.innerAddress():y.tagContents().innerCapture(/\n([\s\S]*)/,1),C=y.innerLink(),v=T.parentTag("td5").tagContents().innerCapture(/^(.*) </,1),S=T.nextPhoneNumber(),r=a.getSpan().nextRegExp(n.guestName).parentTag("td4").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,n.guestName),1),u=T.nextDate(),x=u.nextDate(),c=x.nextDate(),l=c.nextDate(),m=a.getDetachedSpan(""+u+" "+c).innerDate(),h=a.getDetachedSpan(""+x+" "+l).innerDate(),D=l.nextLink(),g=a.getSpan().innerCapture(n.reservationId,1),g.exists()||(p="Cancelled",g=a.getSpan().innerCapture(n.cancellationId,1)),d=D.nextRegExp(n.price).nextAnyTag("td").tagContents(),i=d.innerCapture(/([\d,.]+)/,1),o=d.innerCapture(/([^\d,.]+)/,1),ASSERT(r,g,m,h,v)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:s},totalPrice:i,priceCurrency:o,checkinTime:m,checkoutTime:h,modifyReservationUrl:D,cancelReservationUrl:R,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),reservationId:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:v,url:C,telephone:S,address:T}}]:void 0}}).call();