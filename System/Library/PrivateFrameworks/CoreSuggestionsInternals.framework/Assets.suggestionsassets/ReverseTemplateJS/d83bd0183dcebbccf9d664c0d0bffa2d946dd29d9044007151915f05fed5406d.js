// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("livenation.com-en",function(e){return/Your Live Nation (?:Concerts)?\s*Order/.test(e.subject)},function(e){if(/Your Live Nation (?:Concerts)?\s*Order/.test(e.subject)){var t=Scanner.fromMessage(e);t.setLocale("en_US");var n,r,a,s,o,i,c,p,g,u,d,m,h,S,C,T,x,v;if(int(e.epoch)>=1420070400)n=t.getSpan().innerCapture(/Thanks (.*) -/,1),u=t.getSpan().nextTag("table9").nextTag("td9"),C=u.nextTag("td9"),u=u.tagContents(),C=C.tagContents(),m=C.nextTag("td9"),c=m.nextTag("td11").tagContents().innerCapture(/Section (.*)/,1),o=m.nextText("Print now").firstLink(),v=m.nextText("Total Charges:").nextTag("td5").tagContents(),m=m.tagContents(),r=v.innerCapture(/([\d,.]+)/,1),a=v.innerCapture(/([^\d,.]+)/,1);else{s=t.getSpan().innerCapture(/Your order number for this purchase is (.*?)\./,1);var $=["PRINT YOUR TICKETS","Print my tickets"];for(var l in $)if(t.getSpan().nextText($[l]).exists()){o=t.getSpan().innerCapture(RegExp(regExpEscape($[l])+" <(.*)>"),1);break}m=t.getSpan().nextRegExp(/You purchased (.*) to:/).nextDate();var b=concatRegExp(/You purchased ($<numSeats>.*) to:(?:[\s_]+)/,/\b($<eventName>.*)\s/,/\b($<address>.*)\s/,/(?:[\s\S]+)/,/\bOrder for: ($<name>.*)\s/,/\bSeat location: section ($<section>.*?)(, row ($<row>.*?))?(, seats? ($<seat>.*?))?\s/,/\bTotal Charge: ($<priceCurrency>[A-Z]+).*?($<price>[\d,.]+)\s/);x=t.getSpan().innerCapture(b),x&&(i=x.$numSeats,u=x.$eventName,T=x.$address,n=x.$name,c=x.$section,p=x.$row,g=x.$seat,r=x.$price,a=x.$priceCurrency)}if(ASSERT(m,u))return[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:n,totalPrice:r,priceCurrency:a,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatSection:c,seatRow:p,seatNumber:g},ticketToken:o,ticketNumber:s},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:u,url:d,startDate:m,endDate:h,location:{"@type":"http://schema.org/Place",name:C,telephone:S,address:T}}}]}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/1048/1092/1093","SGbe254d8f")]);