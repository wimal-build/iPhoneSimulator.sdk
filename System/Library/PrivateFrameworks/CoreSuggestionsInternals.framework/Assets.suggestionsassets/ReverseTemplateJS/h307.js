// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,s,o,g,i,d,p,c,m,u,h,T,y;return g=a.getSpan().next(n.reservationId).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,n.reservationId),1),n.cancelled?(r=a.getSpan().innerCapture(regExpFormatted(/\]\s+(.*),\s+\1/,n.underName),1),i="Cancelled",y=a.getDateDD(a.getDetachedSpan((""+a.getSpan().next(n.reservationId).parentAnyTag("td").tagContents()).replace(/[\,\.]/g,"")).innerDate()),d=y.iso8601,p=y.endIso8601):(r=a.getSpan().next(n.underName).previousAnyTag("td").tagContents().innerCapture(/(.*),/,1),d=a.getSpan().next(n.checkInDateTime).nextAnyTag("td").innerDate(),p=a.getSpan().next(n.checkOutDateTime).nextAnyTag("td").innerDate()),h=a.getSpan().nextTag("table6").nextAnyTag("td").tagContents().innerCapture(/\n([\s\S]+)T:/,1),h.parentAnyTag("td").innerAddress().exists()&&(h=h.parentAnyTag("td").innerAddress()),m=h.parentAnyTag("td").tagContents().innerCapture(/(.*)/,1),ASSERT(r,d,p)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r},totalPrice:s,priceCurrency:o,checkinTime:d,checkoutTime:p,modifyReservationUrl:T,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),reservationId:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:m,url:c,telephone:u,address:h}}]:void 0}}).call();
