// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,s,o,i,g,x,c,p,d,m,u,T,h,y=r.getSpan(),C="Confirmed",P=[];a=r.getDetachedSpan(y.nextText(n.underPersonFirstNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s(.+)/,n.underPersonFirstNamePrefix),1)+" "+y.nextText(n.underPersonLastNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s(.+)/,n.underPersonLastNamePrefix),1));var f=y.nextText(n.ticketBlockPrefix).nextTag("table7");return[,s,o]=f.nextAnyTag("td").tagContents().innerCapture(/(.+)\s<(.+)>/),i=f.nextAnyTag("td").nextAnyTag("td").innerDate(),[,g,x]=f.nextAnyTag("td").nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/(.+)\s-\s(.+)\s</),c=y.nextText(n.ticketNumberPrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s(.+)/,n.ticketNumberPrefix),1),[,T,h]=y.nextText(n.pricePrefix).nextAnyTag("table").nextAnyTag("td").tagContents().innerCapture(/([\d\,\.]+)\s?(\D+)/),ASSERT(s,i)&&P.push({"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:a,totalPrice:T,priceCurrency:h,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:c,ticketToken:p,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:d,seatSection:m,seatRow:u}},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/Event"+C,name:s,url:o,startDate:i,location:{"@type":"http://schema.org/Place",name:g,address:x}}}),P.length>0?P:CONTINUE}}).call();
