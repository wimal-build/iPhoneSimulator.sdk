// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,o,i,x,s,c,g,d,h,l,m,p,T,f=r.getSpan(),u="Confirmed";return g=f.nextText(n.reservationIdPrefix).nextAnyTag("td").tagContents().innerCapture(/(\d+)/,1),h=f.nextText(n.hotelReservationCancelUrlPrefix).nextLink(),a=f.innerCapture(regExpFormatted(/\1\s(.+),/,n.underPersonNamePrefix),1),l=f.nextText(n.checkInDatePrefix).nextAnyTag("td").innerDate(),m=f.nextText(n.checkOutDatePrefix).nextAnyTag("td").innerDate(),f=f.nextText(n.hotelDetailsPrefix),i=f.nextText(n.hotelNamePrefix).nextAnyTag("td").tagContents(),x=f.nextText(n.hotelPhonePrefix).nextAnyTag("td").tagContents(),c=f.nextText(n.hotelAddressPrefix).nextAnyTag("td").tagContents(),[,T,p]=r.getSpan().innerCapture(regExpFormatted(/(\D)\s?([\d\,\.]+)\s\1/,n.priceSuffix)),ASSERT(a,i,l)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:o},totalPrice:p,priceCurrency:T,checkinTime:l,checkoutTime:m,reservationStatus:"http://schema.org/Reservation"+u,reservationId:g,modifyReservationUrl:d,cancelReservationUrl:h,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:i,url:s,telephone:x,address:c}}]:CONTINUE}}).call();
