// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){if(!e||!t||!r)return CONTINUE;var a=Scanner.fromMessage(e);a.setLocale(t);var n,p,o,c,i,s,g,m,u,h,l,x,S,d,v,T,E;return n=a.getSpan().innerCapture(regExpFormatted(/\1 (.+),/,r.hello),1),o=a.getSpan().nextText(r.total),l=a.getSpan().withInterval(o.previousText("\n").getEnd(),o.nextText("\n").getStart()).innerCapture(regExpFormatted(/($<priceCurrency>.) ($<totalPrice>[\d,\.]+)/)),l&&(c=l.$priceCurrency,p=l.$totalPrice),h=a.getSpan().innerCapture(regExpFormatted(/\1: (\d+)/),1),o=a.getSpan().nextText(r.date),s=a.getSpan().withInterval(o.previousText("\n").previousText("\n").getEnd(),o.previousText("\n").getStart()).trim(),i=o.nextDate(),d=a.getSpan().innerCapture(regExpFormatted(/\1: (.*)/,r.place),1).trim(),ASSERT(i,s)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:n,totalPrice:p,priceCurrency:c,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:g,seatRow:E,seatSection:m},ticketToken:u,ticketNumber:h},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:s,url:S,startDate:i,endDate:T,location:{"@type":"http://schema.org/Place",name:d,telephone:v,address:x}}}]:CONTINUE}}).call();
