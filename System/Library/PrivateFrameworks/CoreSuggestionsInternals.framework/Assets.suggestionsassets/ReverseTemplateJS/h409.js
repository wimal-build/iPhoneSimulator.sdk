// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e),n=a.getSpan();a.setLocale(t);var i,o,c,s,p,g,x,h,d,m,u,l,T,y,f,v,C;switch(o=n.nextText(r.reservationIdPrefix).nextAnyTag("td").tagContents(),[,m,d,h]=n.nextText(r.flightNumberPrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.*?)\s\1\s(\d+)\s(.*)/,r.flightNumberPrefix)),[,T,l]=(""+n.nextText(r.departureBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),l=a.getDetachedSpan(l).innerDate(),p=n.nextText(r.ticketNumberPrefix).nextTag("td3").tagContents(),[,v,f]=(""+n.nextText(r.arrivalBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),f=a.getDetachedSpan(f).innerDate(),i=(""+n.nextText(r.underPersonNamePrefix).nextAnyTag("tr").nextAnyTag("td").tagContents()).replace(/(.*?)\/(.*?)\sMRS?/,"$2 $1"),""+m){case"KLM Royal Dutch":u="KL"}return ASSERT(i,m||u,T||y,l,v||C,f)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:m,airlineCode:u,flightNumber:d,departureAirportFuzzy:T,departureAirportCode:y,departureTime:l,arrivalAirportFuzzy:v,arrivalAirportCode:C,arrivalTime:f},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:g,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:c,priceCurrency:s,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:p,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:x,seatingType:h}}}]:CONTINUE}}).call();
