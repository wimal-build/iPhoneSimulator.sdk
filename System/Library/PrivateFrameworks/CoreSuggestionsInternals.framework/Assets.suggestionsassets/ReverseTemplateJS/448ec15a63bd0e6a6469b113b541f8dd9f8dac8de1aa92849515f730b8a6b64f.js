// Copyright 2014 Apple Inc.  All Rights Reserved.
new ReverseTemplateList([new ReverseTemplate("usairways.com-departure-reminder-en",function(e){return/^Departure Reminder for/.test(e.subject)},function(e){if(/^Departure Reminder for/.test(e.subject)){var r={},t="en_US",a=loadHelper("usairways.com-departure-reminder.js");return a(e,t,r)}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/185/464/467","SGe43e5c44"),new ReverseTemplate("usairways.com-flight-delay-en",function(e){return/^Flight [Dd]elay impacting/.test(e.subject)},function(e){if(/^Flight [Dd]elay impacting/.test(e.subject)){var r=Scanner.fromMessage(e);r.setLocale("en_US");var t,a,i,n,o,p,d,u,l,s,m,c,g=[];if(r.getSpan().nextText("BeNotified").nextText("Your flight is delayed").exists()){var v={},f="en_US",h=loadHelper("usairways.com-departure-reminder.js");return h(e,f,v)}r.getSpan().nextText("Your updated flight information:").exists()&&(n=r.getSpan().innerCapture(concatRegExp(/Your updated flight information:\s/,/Departing on: ($<currentDate>.*?)\s/,/($<airlineName>.*?) flight # ($<flightNumber>\d+)\s/,/Depart: ($<departureAirport>.*?) \(($<departureCode>[A-Z]{3})\) at ($<departureTime>\d{1,2}:\d{2} [AP]M)\s/,/Arrive: ($<arrivalAirport>.*?) \(($<arrivalCode>[A-Z]{3})\) at ($<arrivalTime>\d{1,2}:\d{2} [AP]M)/)),n&&(p=n.$airlineName,o=n.$flightNumber,u=n.$departureAirport,l=n.$departureCode,d=r.getDetachedSpan(""+n.$currentDate+" "+n.$departureTime).innerDate(),m=n.$arrivalAirport,c=n.$arrivalCode,s=r.getDetachedSpan(""+n.$currentDate+" "+n.$arrivalTime).innerDate(),valid(p,o,u,l,d,m,c,s)&&(r.getDateDD(s).iso8601<r.getDateDD(d).iso8601&&(s=modifyDate(s,1)),g.push({airlineName:p,flightNumber:o,departureAirport:u,departureCode:l,departureTime:d,arrivalAirport:m,arrivalCode:c,arrivalTime:s}))));for(var D=[],$=0;g.length>$;$++){var A=g[$];i={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:A.airlineName,airlineCode:A.airlineCode||"US",flightNumber:A.flightNumber,departureAirportFuzzy:A.departureAirport,departureAirportCode:A.departureCode,departureTime:A.departureTime,arrivalAirportFuzzy:A.arrivalAirport,arrivalAirportCode:A.arrivalCode,arrivalTime:A.arrivalTime},checkinUrl:a,reservationId:t,reservationStatus:"http://schema.org/ReservationConfirmed"},D.push(i)}if(D.length)return D}},"0/1/2/3/4/5/6/5/7/7/7/7/4/8/185/464/468","SGf27c4f3b")]);