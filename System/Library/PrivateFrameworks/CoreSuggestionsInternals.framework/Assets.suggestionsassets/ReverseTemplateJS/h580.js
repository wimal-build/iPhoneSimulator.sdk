// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(t,e,n){if(!t||!e||!n)return CONTINUE;var r=Scanner.fromMessage(t);r.setLocale(e);var a,x,p,g,o,i,m,c,S,d,T,s,h,E,u,v;return a=r.getSpan().nextRegExp(regExpFormatted(/(.*),/)).innerCapture(regExpFormatted(/\w+ (.*),/),1).trim(),p=r.getSpan().nextText(n.price).nextRegExp(regExpFormatted(/[\d,\.]+ [A-Z]{3}/)),x=p.innerCapture(regExpFormatted(/([\d,\.]+)/),1),v=p.innerCapture(regExpFormatted(/([A-Z]{3})/),1),m=r.getSpan().nextText(n.command),m=r.getSpan().withInterval(m.nextText(n.tarif).getEnd(),m.nextText(n.for).getStart()).trim(),c=r.getSpan().nextText(n.print).nextLink(),S=r.getSpan().innerCapture(regExpFormatted(/\1(.*)/,n.reference),1).trim(),o=r.getSpan().nextText(n.command).nextText(n.for),o=r.getSpan().withInterval(o.getEnd(),o.nextText("(").getStart()).trim(),g=r.getSpan().nextText(n.command).nextDate(),s=r.getSpan().withInterval(o.nextText("(").getEnd(),o.nextText("(").nextText("(").getStart()).trim(),d=r.getSpan().withInterval(s.nextText("(").getEnd(),s.nextText("(").nextText(")").getStart()).trim(),ASSERT(g,o)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:a,totalPrice:x,priceCurrency:v,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:i,seatRow:u,seatSection:m},ticketToken:c,ticketNumber:S},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:o,url:T,startDate:g,endDate:E,location:{"@type":"http://schema.org/Place",name:s,telephone:h,address:d}}}]:CONTINUE}}).call();
