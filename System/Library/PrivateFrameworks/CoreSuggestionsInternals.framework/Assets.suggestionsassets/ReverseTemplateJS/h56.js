// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n,o,i,p,c,s,m,h,l,d,u,g,f,v,y,C,R,T,k,S,U,x=a.getSpan(),P="Rentalcars.com";if(i=e.subject.match(r.reservationId)[1],n=x.innerCapture(r.guestName,1),d=x.innerCapture(r.brand,1),U=x.innerCapture(r.price,1),h=U.innerCapture(/([\d,.]+)/,1),l=U.innerCapture(/([^\d,.]+)/,1),s=m=x.next(r.modifyUrl).nextLink(),R=f=x.innerCapture(r.supplier,1),S=x.next(r.pickupTime).nextDate(),C=x.next(r.dropoffTime).nextDate(),T=x.innerCapture(r.pickupAddress,2),v=x.innerCapture(r.dropoffAddress,2),r.cancellationSubject.test(e.subject)){if(p="Cancelled",!ASSERT(i,n))return CONTINUE}else if(p="Confirmed",!ASSERT(n,S,C,T,v))return CONTINUE;return 0===(""+d).length?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:h,priceCurrency:l,reservationId:i,reservationStatus:"http://schema.org/Reservation"+p,checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:m,underName:{"@type":"http://schema.org/Person",name:n,email:o},provider:{"@type":"http://schema.org/Organization",name:P},pickupTime:S,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:k,address:T},dropoffTime:C,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:y,address:v}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:h,priceCurrency:l,reservationId:i,reservationStatus:"http://schema.org/Reservation"+p,checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:m,underName:{"@type":"http://schema.org/Person",name:n,email:o},provider:{"@type":"http://schema.org/Organization",name:P},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:u,color:g},pickupTime:S,pickupLocation:{"@type":"http://schema.org/Place",name:R,telephone:k,address:T},dropoffTime:C,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:y,address:v}}]}}).call();