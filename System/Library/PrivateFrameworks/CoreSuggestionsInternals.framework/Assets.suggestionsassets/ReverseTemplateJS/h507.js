// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,i,o,s,x,d,g,p,c,h,m,l=r.getSpan(),u="Confirmed";a=l.next(n.underPersonNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s(.*)/,n.underPersonNamePrefix),1),d=l.innerCapture(regExpFormatted(/\1\s(\d+\-\d+\-\d+)\s/,n.reservationIdPrefix),1),g=l.next(n.reservationModificationUrlPrefix).nextLink();var f=(""+l.next(n.bookingDetailBlockPrefix).nextAnyTag("table").nextAnyTag("td").tagContents()).split("\n");return i=f.shift(),x=f.join("\n"),s=l.nextText(n.hotelUrlPrefix).nextLink(),o=l.innerCapture(regExpFormatted(/<\1(.*)>/,n.hotelPhoneNumberPrefix),1),[p,c]=(""+l.next(n.hotelUrlPrefix).nextDate()).split(" - "),p=r.getDetachedSpan(p).innerDate(),c=r.getDetachedSpan(c).innerDate(),[,m,h]=l.next(RegExp(n.pricePrefix)).nextAnyTag("td").tagContents().innerCapture(/(\D)\s?([\d\,\.]+)/),ASSERT(a,i,p)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a},totalPrice:h,priceCurrency:m,checkinTime:p,checkoutTime:c,reservationStatus:"http://schema.org/Reservation"+u,reservationId:d,modifyReservationUrl:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:i,telephone:o,url:s,address:x}}]:void 0}}).call();
