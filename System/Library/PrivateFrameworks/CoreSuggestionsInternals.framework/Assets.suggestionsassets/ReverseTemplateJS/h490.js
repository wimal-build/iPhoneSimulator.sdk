// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n,i,o,p,g,s,c,d,u,x,l,h,m,T,f,v,C,y,S=a.getSpan();n=S.nextText(r.underPerson_prefix).nextText(r.underPersonName_prefix).nextTag("td3").tagContents(),i=S.nextText(r.reservationId_prefix).nextTag("td3").tagContents(),[,o,p]=S.nextText(r.priceInfo_prefix).nextTag("td3").tagContents().innerCapture(regExpFormatted(/(.*) (.*)/));var z=S.nextText(r.flightInfo_prefix).nextTag("table3").nextTag("tr3").nextTag("tr3").allInnerTags("td3"),F=z[0].tagContents();h=F.split("\xa0\xa0\xa0")[0],m=getFuzzyDate(a.getDetachedSpan(""+F).firstDate()),m===a.getNullSpan()&&(m=F);var N=z[4].tagContents();return v=getFuzzyDate(a.getDetachedSpan(h+" "+N).firstDate()),v===a.getNullSpan()&&(v=N),[,d,u]=z[1].tagContents().innerCapture(regExpFormatted(/(.*)\xa0(\d{3,4})/)),T=z[2].tagContents(),C=z[3].tagContents(),ASSERT(m,v,T,C)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:c,airlineCode:d,flightNumber:u,departureAirportFuzzy:T,departureAirportCode:f,departureTime:m,arrivalAirportFuzzy:C,arrivalAirportCode:y,arrivalTime:v},underName:{"@type":"http://schema.org/Person",name:n},checkinUrl:s,reservationId:i,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:o,priceCurrency:p,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:g,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:x,seatingType:l}}}]:void 0}}).call();
