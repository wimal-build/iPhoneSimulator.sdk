// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var r=Scanner.fromMessage(e);r.setLocale(t);var a,o,p,i,c,s,g,m,h,d,u,l,f,C,v,R,x,S,y,E;if(n.confirmSubject.test(e.subject)){a=r.getSpan().nextRegExp(n.guestName).tagContents().innerCapture(n.guestName,1),p=r.getSpan().nextRegExp(n.reservationId).tagContents().innerCapture(n.reservationId,1),E=r.getSpan().nextRegExp(n.dates).nextDate(),R=r.getDetachedSpan(""+E.next(n.dropoffDate)).innerDate(),S=r.getSpan().nextRegExp(n.pickupLoc).tagContents().innerCapture(n.pickupLoc,1),C=r.getSpan().nextRegExp(n.dropoffLoc).tagContents().innerCapture(n.dropoffLoc,1),d=r.getSpan().nextRegExp(n.car).tagContents().innerCapture(n.car,1),g=s=r.getSpan().innerLink();var L=r.getSpan().nextRegExp(n.price).tagContents().innerCapture(n.price,1);if(m=L.innerCapture(/([\d,.]+)/,1),h=L.innerCapture(/([^\d,.]+)/,1).trim(),!ASSERT(a,p,E,R,S,C))return CONTINUE}if(n.cancellationSubject.test(e.subject)){if(!ASSERT(a,p))return CONTINUE;i="Cancelled"}return d?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:"Avis"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:u,color:l},pickupTime:E,pickupLocation:{"@type":"http://schema.org/Place",name:x,telephone:y,address:S},dropoffTime:R,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:v,address:C}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:h,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:E,pickupLocation:{"@type":"http://schema.org/Place",name:x,telephone:y,address:S},dropoffTime:R,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:v,address:C}}]}}).call();