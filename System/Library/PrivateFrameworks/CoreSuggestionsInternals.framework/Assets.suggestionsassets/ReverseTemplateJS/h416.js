// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var n=Scanner.fromMessage(e),a=n.getSpan();n.setLocale(t);var i,o,p,s,c,g,x,d,m,h,u,l,T,y,f,v,C;return o=a.nextText(r.reservationIdPrefix).nextAnyTag("td").tagContents(),[,h,m,d]=a.nextText(r.flightNumberPrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.*?)\s\1\s(\d+)\s(.*)/,r.flightNumberPrefix)),[,T,l]=(""+a.nextText(r.departureBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),l=n.getDetachedSpan(l).innerDate(),c=a.nextText(r.ticketNumberPrefix).nextTag("td3").tagContents(),[,v,f]=(""+a.nextText(r.arrivalBlockPrefix).nextAnyTag("td").tagContents()).match(/(.*?)\n(.*?)\n/),f=n.getDetachedSpan(f).innerDate(),i=(""+a.nextText(r.underPersonNamePrefix).nextAnyTag("tr").nextAnyTag("td").tagContents()).replace(/(.*?)\/(.*?)\sMRS?/,"$2 $1"),ASSERT(i,h||u,T||y,l,v||C,f)?[{"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:h,airlineCode:u,flightNumber:m,departureAirportFuzzy:T,departureAirportCode:y,departureTime:l,arrivalAirportFuzzy:v,arrivalAirportCode:C,arrivalTime:f},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:g,reservationId:o,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:p,priceCurrency:s,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:c,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:x,seatingType:d}}}]:CONTINUE}}).call();
