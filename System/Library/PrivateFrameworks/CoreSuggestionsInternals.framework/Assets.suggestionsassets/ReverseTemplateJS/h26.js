// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n){var a=Scanner.fromMessage(e);a.setLocale(t);var r,o,i,x,s,d,p,c,g,l,m,f,C,T,h,y=a.getSpan(),P=n.isCancellation?"Cancelled":"Confirmed";o=y.innerCapture(regExpFormatted(/\1\s?(\D\d+)/,n.isCancellation?n.carCancellationIdPrefix:n.carConfirmationIdPrefix),1),i=y.nextText(n.carBrandPrefix).nextAnyTag("td").tagContents();var u=y.nextText(n.pickUpBlockHeader);p=u.nextText(n.dateTimePrefix).nextAnyTag("td").tagContents().innerDate(),d=u.nextText(n.addressPrefix).nextAnyTag("td").tagContents().innerCapture(/(.+)\n/,1),s=u.nextText(n.telephonePrefix).nextAnyTag("td").tagContents();var v=y.nextText(n.dropOffBlockHeader);return m=v.nextText(n.dateTimePrefix).nextAnyTag("td").tagContents().innerDate(),l=v.nextText(n.addressPrefix).nextAnyTag("td").tagContents().innerCapture(/(.+)\n/,1),g=v.nextText(n.telephonePrefix).nextAnyTag("td").tagContents(),f=C=y.nextText(n.modifyReservationUrl).nextLink(),r=a.getSpan().next(n.underPersonNamePrefix).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,n.underPersonNamePrefix),1),n.isCancellation||([,h,T]=y.nextText(n.pricePrefix).nextAnyTag("td").tagContents().innerCapture(/(\D)([\d\,\.]+)/)),ASSERT(o,d,p)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:T,priceCurrency:h,reservationStatus:"http://schema.org/Reservation"+P,reservationId:o,modifyReservationUrl:f,cancelReservationUrl:C,underName:{"@type":"http://schema.org/Person",name:r},provider:{"@type":"http://schema.org/Organization",name:"Dollar Rent A Car"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:i}},pickupTime:p,pickupLocation:{"@type":"http://schema.org/Place",name:x,telephone:s,address:d},dropoffTime:m,dropoffLocation:{"@type":"http://schema.org/Place",name:c,telephone:g,address:l}}]:void 0}}).call();