// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,n,r){if(!(e&&t&&n&&r))return CONTINUE;var a=Scanner.fromMessage(e);a.setLocale(t);var o,x,p,g,s,i,m,c,h,d;return o=a.getSpan().nextText(n.person).nextRegExp(regExpFormatted(/\d+/)),d=a.getSpan().nextText(n.reference).nextRegExp(regExpFormatted(/[A-Z]{2}\d+/)),x=a.getSpan().nextText(n.restaurant).nextText(n.colon).nextRegExp(regExpFormatted(/(.*)/)).trim(),s=a.getSpan().nextText(n.phone).nextText(n.colon),s=a.getSpan().withInterval(s.getEnd(),s.nextText("\n").getStart()).innerCapture(regExpFormatted(/(.*)/),1),p=a.getSpan().nextText(n.date).nextDate(),g=a.getSpan().nextText(n.underName).nextText(n.colon),g=a.getSpan().withInterval(g.getEnd(),g.nextText("\n").getStart()).innerCapture(regExpFormatted(/(.*)\1/,n.parenthesis),1).trim(),m=a.getSpan().nextText(n.cancel).nextLink(),c=m,ASSERT(o,x,p,g)?[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:o,reservationId:d,reservationStatus:"http://schema.org/Reservation"+r,reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:x,url:h,telephone:s,address:i},startTime:p,bookingAgent:{"@type":"http://schema.org/Organization",name:"Ikyu",url:"http://restaurant.ikyu.com/"},underName:{"@type":"http://schema.org/Person",name:g},cancelReservationUrl:m,modifyReservationUrl:c}]:CONTINUE}}).call();
