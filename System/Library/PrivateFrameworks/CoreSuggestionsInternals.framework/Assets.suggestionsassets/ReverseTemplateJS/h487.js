// Copyright 2014 Apple Inc.  All Rights Reserved.
(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var n,p,o,i,c,g,s,d,m,u,C,h,y;return C=a.getSpan().next(r.hotel.reservationIdPrefix).nextAnyTag("td").tagContents(),p=a.getSpan().innerCapture(r.car.providerCapture,1),y=a.getSpan().next(r.car.bookingInfo).nextAnyTag("td"),s=y.innerCapture(r.car.pickupTimeCapture,1).innerDate(),g=s.parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,""+s),1),i=y.nextAnyTag("td").nextAnyTag("td").innerCapture(r.car.dropoffTimeCapture,1).innerDate(),o=i.parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,""+i),1),n=a.getSpan().innerCapture(r.car.brandCapture,1),d=a.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)/,r.car.name),1),c=a.getSpan().next(r.car.newPrice).parentAnyTag("td").tagContents(),m=c.innerCapture(/([\d,.]+)/,1),u=c.innerCapture(regExpFormatted(/\1([^\d,.]+)/,r.car.newPrice),1),h=r.car.cancellation.test(e.subject)?"Cancelled":"Confirmed",ASSERT(d,p,s)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:u.trim(),reservationId:C,reservationStatus:"http://schema.org/Reservation"+h,underName:{"@type":"http://schema.org/Person",name:d.trim()},provider:{"@type":"http://schema.org/Organization",name:p},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:n}},pickupTime:s,pickupLocation:{"@type":"http://schema.org/Place",address:g.trim()},dropoffTime:i,dropoffLocation:{"@type":"http://schema.org/Place",address:o.trim()}}]:void 0}}).call();
