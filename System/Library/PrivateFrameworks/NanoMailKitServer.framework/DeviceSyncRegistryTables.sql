CREATE TABLE "CONTROL" (
    "KEY" Text PRIMARY KEY,
    "VALUE" BLOB );
    
CREATE TABLE "SYNCED_MESSAGE" (
    "ID" Text PRIMARY KEY,
    "STATUS" Integer,
    "STATUS_VERSION" Integer,
    "DATE_RECEIVED" DateTime,
    "USED_PROTECTED_CHANNEL" Boolean,
    "USED_NOTIFICATION_PRIORITY" Boolean,
    "CONTENT_SYNCED_NOTIFICATION_PRIORITY" Boolean,
    "CONTENT_SYNCED_BECAUSE_USER_REQUESTED" Boolean,
    "CONTENT_SYNCED" Boolean,
    "CONTENT_REQUESTED_BY_USER" Boolean,
    "CONVERSATION_ID" Text,
    "RESEND_REQUESTED" Boolean,
    "RESEND_INTERVAL" Integer,
    "CONTENT_RESEND_INTERVAL" Integer );

CREATE INDEX "INDEX_SYNCED_MESSAGE_DATE_RECEIVED" ON "SYNCED_MESSAGE"("DATE_RECEIVED" DESC);
CREATE INDEX "INDEX_SYNCED_MESSAGE_USED_NOTIFICATION_PRIORITY" ON "SYNCED_MESSAGE"("USED_NOTIFICATION_PRIORITY");
CREATE INDEX "INDEX_SYNCED_MESSAGE_CONTENT_SYNCED" ON "SYNCED_MESSAGE"("CONTENT_SYNCED");
CREATE INDEX "INDEX_SYNCED_MESSAGE_CONTENT_SYNCED_NOTIFICATION_PRIORITY" ON "SYNCED_MESSAGE"("CONTENT_SYNCED_NOTIFICATION_PRIORITY");
CREATE INDEX "INDEX_SYNCED_MESSAGE_CONTENT_SYNCED_BECAUSE_USER_REQUESTED" ON "SYNCED_MESSAGE"("CONTENT_SYNCED_BECAUSE_USER_REQUESTED");
CREATE INDEX "INDEX_SYNCED_MESSAGE_CONTENT_REQUESTED_BY_USER" ON "SYNCED_MESSAGE"("CONTENT_REQUESTED_BY_USER");
CREATE INDEX "INDEX_SYNCED_MESSAGE_CONVERSATION_ID" ON "SYNCED_MESSAGE"("CONVERSATION_ID");
CREATE INDEX "INDEX_SYNCED_MESSAGE_RESEND_REQUESTED" ON "SYNCED_MESSAGE"("RESEND_REQUESTED");

CREATE TABLE "ATTACHMENT_NOT_SYNCED" (
    "MESSAGE_ID" Text,
    "CONTENT_ID" Text );

CREATE INDEX "INDEX_ATTACHMENT_NOT_SYNCED_MESSAGE_ID\" ON "ATTACHMENT_NOT_SYNCED"("MESSAGE_ID");
    
CREATE TABLE "SYNCED_ACCOUNT" (
    "ID" Text PRIMARY KEY,
    "DISPLAY_NAME" Text,
    "SHOULD_ARCHIVE" Boolean,
    "EMAIL_ADDRESSES" Text,
    "RESEND_REQUESTED" Boolean,
    "RESEND_INTERVAL" Integer );

CREATE INDEX "INDEX_SYNCED_ACCOUNT_RESEND_REQUESTED" ON "SYNCED_ACCOUNT"("RESEND_REQUESTED");

CREATE TABLE "IDS_IDENTIFIER_NOT_YET_ACKD" (
    "IDS_IDENTIFIER" Text PRIMARY KEY,
    "TYPE" Text,
    "DATE_TO_RESEND" DateTime,
    "RESEND_INTERVAL" Integer,
    "ERROR_CODE" Integer );

CREATE INDEX "INDEX_IDS_IDENTIFIER_NOT_YET_ACKD_DATE_TO_RESEND" ON "IDS_IDENTIFIER_NOT_YET_ACKD"( "DATE_TO_RESEND" );

CREATE TABLE "IDS_IDENTIFIER_OBJECT" (
    "IDS_IDENTIFIER" Text,
    "OBJECT_ID" Text );

CREATE INDEX "INDEX_IDS_IDENTIFIER_OBJECT_IDS_IDENTIFIER" ON "IDS_IDENTIFIER_OBJECT"( "IDS_IDENTIFIER" );
CREATE INDEX "INDEX_IDS_IDENTIFIER_OBJECT_OBJECT_ID" ON "IDS_IDENTIFIER_OBJECT"( "OBJECT_ID" );

CREATE TABLE "COMPOSED_MESSAGE" (
    "ID" Text PRIMARY KEY,
    "PROGRESS" Integer );
